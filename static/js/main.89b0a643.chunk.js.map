{"version":3,"sources":["context.js","components/CompletedGIF.js","components/IconButton.js","icons/pencil.png","icons/pen.png","icons/eraser.png","icons/dropper.png","components/Toolbar.js","drawData.js","icons/undo.png","icons/redo.png","components/UndoRedoBar.js","icons/black.png","icons/white.png","icons/red.png","icons/lightred.png","icons/orange.png","icons/yellow.png","icons/green.png","icons/pink.png","icons/purple.png","icons/blue.png","components/ColorSelector.js","components/TextAndRangeSelector.js","icons/hide.png","icons/unhide.png","components/LayerMenuItem.js","icons/plus.png","icons/X.png","icons/up.png","icons/down.png","icons/copy.png","icons/paste.png","components/LayerMenu.js","components/Sidebar.js","icons/left-arrow.png","icons/right-arrow.png","components/BottomBar.js","components/CanvasForm.js","components/Layer.js","components/DrawingArea.js","components/Flipbook.js","index.js"],"names":["FlipbookContext","React","createContext","CompletedGIF","useContext","globalState","setGlobalState","id","onClick","newState","Object","assign","gifOpen","src","event","stopPropagation","IconButton","btnTitle","imgSrc","onClick_p","selected","size","useState","btnClass","setClass","iconClass","alt","width","height","title","className","onMouseOver","onMouseOut","onMouseDown","onMouseUp","Toolbar","setSelectedTool","toolName","selectedTool","pencilIcon","penIcon","eraserIcon","dropperIcon","oldX","oldY","midX","midY","newX","newY","isDrawing","layers","undoStack","redoStack","botCanvas","ref","clearUndoRedoStacks","length","calcSmoothPoints","tension","numSegments","t1x","t2x","t1y","t2y","st","c1","c2","c3","c4","smoothedX","smoothedY","smoothedPoints","t","Math","pow","push","tools","Pencil","startPath","canvas","ctx","getContext","rect","getBoundingClientRect","getImageData","clientX","left","clientY","top","draw","lineCap","lineJoin","beginPath","moveTo","i","lineTo","stroke","closePath","endPath","Pen","Eraser","tempStrokeStyle","strokeStyle","globalCompositeOperation","Dropper","x","y","imgData","window","devicePixelRatio","data","rgb","toString","UndoRedoBar","undoIcon","e","curFrame","curLayer","layer","newCanvasImage","pop","undo","redoIcon","redo","ColorSelector","setSelectedColor","colorValue","selectedColor","blackIcon","whiteIcon","redIcon","lightRedIcon","orangeIcon","yellowIcon","greenIcon","pinkIcon","purpleIcon","blueIcon","type","onChange","target","value","TextAndRangeSelector","min","max","unit","initValue","setValue","textRef","useRef","rangeRef","validateInput","input","current","defaultValue","LayerMenuItem","name","hidden","rename","select","hide","layerClass","renderClass","imSrc","unhideIcon","hideIcon","onDoubleClick","clipboard","LayerMenu","layerArray","useEffect","newLayerId","opacity","plusIcon","unshift","xIcon","confirm","splice","upIcon","temp","downIcon","copyIcon","set","Uint8ClampedArray","pasteIcon","map","index","newName","prompt","renameLayer","selectLayer","hideLayer","Sidebar","selectedSize","botCanvasOpacity","BottomBar","drawFrameToBottomCanvas","frameIndex","bc","bctx","tempCanvas","document","createElement","clearRect","lyrIndex","putImageData","drawImage","leftArrowIcon","rightArrowIcon","CanvasForm","createCanvas_p","inputWidth","inputHeight","Layer","setImgData","zIndex","canvRef","canvs","lineWidth","onPointerDown","preventDefault","res","onPointerMove","onPointerUp","onPointerOut","style","position","scrollY","scrollX","pointerEvents","visibility","DrawingArea","pos","setPos","_debounce","frame","hasNewData","newData","marginLeft","Flipbook","canvasOpen","canvasWidth","canvasHeight","Provider","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.89b0a643.chunk.js","sourcesContent":["import React from 'react'\n\nconst FlipbookContext = React.createContext();\n\nexport default FlipbookContext;","import React from 'react';\nimport FlipbookContext from '../context'\nimport './CompletedGIF.css'\n\nconst CompletedGIF = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    return (\n        <div id='gifContainer'\n            onClick={() => {\n                let newState = Object.assign({}, globalState);\n                newState.gifOpen = false;\n                setGlobalState(newState);\n            }}>\n\n            <img src='https://ichef.bbci.co.uk/news/976/cpsprodpb/146EC/production/_115229638_gettyimages-603118336-gentoo-antarcticpeninsula.jpg'\n                onClick={(event) => { event.stopPropagation(); }} />\n\n        </div>\n    );\n}\n\nexport default CompletedGIF;","import React from 'react'\nimport './IconButton.css'\n\nconst IconButton = ({btnTitle, imgSrc, onClick_p, selected, size}) => {\n\n    const [btnClass, setClass] = React.useState('iconUnselected');\n\n    const iconClass = selected ? 'iconSelected' : btnClass;\n\n    return(\n        <img alt={btnTitle}\n        width={size}\n        height={size}\n        title={btnTitle} \n        src={imgSrc} \n        className={iconClass}\n        onClick={onClick_p} \n        onMouseOver={() => setClass('iconHovered')}\n        onMouseOut={() => setClass('iconUnselected')} \n        onMouseDown={() => setClass('iconSelected')} \n        onMouseUp={() => setClass('iconHovered')}/>\n    );\n}\n\nexport default IconButton;","export default __webpack_public_path__ + \"static/media/pencil.588014e8.png\";","export default __webpack_public_path__ + \"static/media/pen.373e6d9c.png\";","export default __webpack_public_path__ + \"static/media/eraser.ce11724e.png\";","export default __webpack_public_path__ + \"static/media/dropper.f62bf4e2.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport IconButton from './IconButton'\nimport pencilIcon from '../icons/pencil.png'\nimport penIcon from '../icons/pen.png'\nimport eraserIcon from '../icons/eraser.png'\nimport dropperIcon from '../icons/dropper.png'\n\n//toolbar on the left side of the page\nconst Toolbar = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const setSelectedTool = (toolName) => {\n        let newState = Object.assign({}, globalState);\n        newState.selectedTool = toolName;\n        setGlobalState(newState);\n    }\n\n    return (\n        <div id=\"toolbarContainer\">\n            <IconButton btnTitle='Pencil' imgSrc={pencilIcon} onClick_p={() => setSelectedTool('Pencil')}\n                size={40} selected={globalState.selectedTool === 'Pencil'} />\n\n            <IconButton btnTitle='Pen' imgSrc={penIcon} onClick_p={() => setSelectedTool('Pen')}\n                size={40} selected={globalState.selectedTool === 'Pen'} />\n\n            <IconButton btnTitle='Eraser' imgSrc={eraserIcon} onClick_p={() => setSelectedTool('Eraser')}\n                size={40} selected={globalState.selectedTool === 'Eraser'} />\n\n            <IconButton btnTitle='Dropper' imgSrc={dropperIcon} onClick_p={() => setSelectedTool('Dropper')}\n                size={40} selected={globalState.selectedTool === 'Dropper'} />\n        </div>\n    );\n}\n\nexport default Toolbar;","/*These 3 sets of points are used to draw smoothed curves.*/\nlet oldX = 0, oldY = 0;\nlet midX = 0, midY = 0;\nlet newX = 0, newY = 0;\n\nexport let isDrawing = false;\n\nexport let layers = [[]];\n\nlet undoStack = [];\nlet redoStack = [];\n\nexport let botCanvas = {\n    ref: null\n};\n\nexport const undo = (curFrame, curLayer) => {\n    if (isDrawing) return;\n    let layer = layers[curFrame][curLayer];\n    if (undoStack.length !== 0) {\n        redoStack.push(layer.imgData);\n        let newCanvasImage = undoStack.pop();\n        layer.imgData = newCanvasImage;\n    }\n}\n\nexport const redo = (curFrame, curLayer) => {\n    if (isDrawing) return;\n    let layer = layers[curFrame][curLayer];\n    if (redoStack.length !== 0) {\n        undoStack.push(layer.imgData);\n        let newCanvasImage = redoStack.pop();\n        layer.imgData = newCanvasImage;\n    }\n}\n\nexport const clearUndoRedoStacks = () => {\n    undoStack.length = 0;\n    redoStack.length = 0;\n}\n\n/*This algorithm for drawing smoothed curves is stolen from :\nhttps://stackoverflow.com/questions/7054272/how-to-draw-smooth-curve-through-n-points-using-javascript-html5-canvas*/\nconst calcSmoothPoints = (tension, numSegments) => {\n    let smoothedPoints = [];\n    let t1x, t2x, t1y, t2y;\n    let st;\n    let c1, c2, c3, c4;\n    let smoothedX, smoothedY;\n\n    for (let t = 0; t <= numSegments; t++) {\n        //calc tension vectors\n        t1x = (midX - oldX) * tension;\n        t2x = (newX - oldX) * tension;\n\n        t1y = (midY - oldY) * tension;\n        t2y = (newY - oldY) * tension;\n\n        // calc step\n        st = t / 16;\n\n        // calc cardinals\n        c1 = 2 * Math.pow(st, 3) - 3 * Math.pow(st, 2) + 1;\n        c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2);\n        c3 = Math.pow(st, 3) - 2 * Math.pow(st, 2) + st;\n        c4 = Math.pow(st, 3) - Math.pow(st, 2);\n\n        // calc x and y cords with common control vectors\n        smoothedX = c1 * oldX + c2 * midX + c3 * t1x + c4 * t2x;\n        smoothedY = c1 * oldY + c2 * midY + c3 * t1y + c4 * t2y;\n\n        //store points in array\n        smoothedPoints.push(smoothedX);\n        smoothedPoints.push(smoothedY);\n    }\n    return smoothedPoints;\n}\n\nexport let tools = {\n    Pencil: {\n        startPath: (event, canvas) => {\n            let ctx = canvas.getContext('2d');\n            let rect = canvas.getBoundingClientRect();\n            undoStack.push(ctx.getImageData(0, 0, canvas.width, canvas.height));\n            redoStack.length = 0;\n            isDrawing = true;\n            oldX = midX = event.clientX - rect.left;\n            oldY = midY = event.clientY - rect.top;\n        },\n\n        draw: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            newX = event.clientX - rect.left;\n            newY = event.clientY - rect.top;\n            ctx.lineCap = \"round\";\n            ctx.lineJoin = \"round\";\n            if (isDrawing === true) {\n\n                /*calculate the points of the smoothed curve*/\n                let smoothedPoints = calcSmoothPoints(0.5, 16);\n\n                /*draw the curve*/\n                ctx.beginPath();\n                ctx.moveTo(smoothedPoints[0], smoothedPoints[1]);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i], smoothedPoints[i + 1]);\n\n                ctx.stroke();\n                ctx.closePath();\n\n                oldX = midX;\n                oldY = midY;\n                midX = newX;\n                midY = newY;\n            }\n        },\n\n        endPath: () => {\n            isDrawing = false;\n        }\n    },\n\n    Pen: {\n        startPath: (event, canvas) => {\n            let ctx = canvas.getContext('2d');\n            let rect = canvas.getBoundingClientRect();\n            undoStack.push(ctx.getImageData(0, 0, canvas.width, canvas.height));\n            redoStack.length = 0;\n            isDrawing = true;\n            oldX = midX = event.clientX - rect.left;\n            oldY = midY = event.clientY - rect.top;\n        },\n\n        draw: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            newX = event.clientX - rect.left;\n            newY = event.clientY - rect.top;\n            let smoothedPoints = [];\n            ctx.lineCap = \"square\";\n            ctx.lineJoin = \"square\";\n            if (isDrawing === true) {\n\n                /*calculate the points of the smoothed curve*/\n                let smoothedPoints = calcSmoothPoints(0.5, 16);\n\n                /*draw the curve*/\n                ctx.beginPath();\n                ctx.moveTo(smoothedPoints[0] - 2, smoothedPoints[1] - 1);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i] - 2, smoothedPoints[i + 1] - 1);\n\n                ctx.moveTo(smoothedPoints[0], smoothedPoints[1]);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i] - 1, smoothedPoints[i + 1] - 1);\n\n                ctx.moveTo(smoothedPoints[0] + 1, smoothedPoints[1] + 1);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i], smoothedPoints[i + 1]);\n\n                ctx.moveTo(smoothedPoints[0] + 2, smoothedPoints[1] + 2);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i] + 2, smoothedPoints[i + 1] + 2);\n\n                ctx.stroke();\n                ctx.closePath();\n\n                oldX = midX;\n                oldY = midY;\n                midX = newX;\n                midY = newY;\n            }\n        },\n\n        endPath: () => {\n            isDrawing = false;\n        }\n    },\n\n    Eraser: {\n        startPath: (event, canvas) => {\n            let ctx = canvas.getContext('2d');\n            let rect = canvas.getBoundingClientRect();\n            undoStack.push(ctx.getImageData(0, 0, canvas.width, canvas.height));\n            redoStack.length = 0;\n            isDrawing = true;\n            oldX = midX = event.clientX - rect.left;\n            oldY = midY = event.clientY - rect.top;\n        },\n\n        draw: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            newX = event.clientX - rect.left;\n            newY = event.clientY - rect.top;\n            ctx.lineCap = \"round\";\n            ctx.lineJoin = \"round\";\n            if (isDrawing === true) {\n                let tempStrokeStyle = ctx.strokeStyle;\n                ctx.strokeStyle = 'rgba(255,255,255,1)';\n                ctx.globalCompositeOperation = \"destination-out\";\n\n                /*calculate the points of the smoothed curve*/\n                let smoothedPoints = calcSmoothPoints(0.5, 16);\n\n                /*draw the curve*/\n                ctx.beginPath();\n                ctx.moveTo(smoothedPoints[0], smoothedPoints[1]);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i], smoothedPoints[i + 1]);\n\n                ctx.stroke();\n                ctx.closePath();\n\n                oldX = midX;\n                oldY = midY;\n                midX = newX;\n                midY = newY;\n                ctx.strokeStyle = tempStrokeStyle;\n                ctx.globalCompositeOperation = \"source-over\";\n            }\n        },\n\n        endPath: () => {\n            isDrawing = false;\n        }\n    },\n\n    Dropper: {\n        startPath: function (event, canvas) { //get color at x,y coordinate on main canvas\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            let x = event.clientX - rect.left;\n            let y = event.clientY - rect.top;\n            let imgData = ctx.getImageData(x * window.devicePixelRatio, y * window.devicePixelRatio, 1, 1).data;\n            let rgb = [];\n            for (let i = 0; i < 3; i++) {\n                rgb[i] = imgData[i].toString(16);\n                if (rgb[i].length === 1) rgb[i] = '0' + rgb[i];\n            }\n            let newColor = '#' + rgb[0] + rgb[1] + rgb[2];\n            return newColor;\n        },\n\n        draw: function (event) {\n\n        },\n\n        endPath: function () {\n\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/undo.eb7626ba.png\";","export default __webpack_public_path__ + \"static/media/redo.b5eb995b.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport { undo, redo } from '../drawData'\nimport IconButton from './IconButton'\nimport undoIcon from '../icons/undo.png'\nimport redoIcon from '../icons/redo.png'\n\nconst UndoRedoBar = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    return (\n        <div>\n            <IconButton btnTitle='Undo' imgSrc={undoIcon}\n                onClick_p={(e) => {\n                    undo(globalState.curFrame, globalState.curLayer);\n                }}\n                size={40} selected={false} />\n\n            <IconButton btnTitle='Redo' imgSrc={redoIcon}\n                onClick_p={(e) => {\n                    redo(globalState.curFrame, globalState.curLayer)\n                }}\n                size={40} selected={false} />\n        </div>\n    );\n}\n\nexport default UndoRedoBar;","export default __webpack_public_path__ + \"static/media/black.1fd5be43.png\";","export default __webpack_public_path__ + \"static/media/white.f637800e.png\";","export default __webpack_public_path__ + \"static/media/red.d9268b17.png\";","export default __webpack_public_path__ + \"static/media/lightred.b2e9f841.png\";","export default __webpack_public_path__ + \"static/media/orange.7ab39e4f.png\";","export default __webpack_public_path__ + \"static/media/yellow.259f7955.png\";","export default __webpack_public_path__ + \"static/media/green.71014684.png\";","export default __webpack_public_path__ + \"static/media/pink.2a087a8e.png\";","export default __webpack_public_path__ + \"static/media/purple.5c807439.png\";","export default __webpack_public_path__ + \"static/media/blue.d0223170.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport './ColorSelector.css'\nimport IconButton from './IconButton'\nimport blackIcon from '../icons/black.png'\nimport whiteIcon from '../icons/white.png'\nimport redIcon from '../icons/red.png'\nimport lightRedIcon from '../icons/lightred.png'\nimport orangeIcon from '../icons/orange.png'\nimport yellowIcon from '../icons/yellow.png'\nimport greenIcon from '../icons/green.png'\nimport pinkIcon from '../icons/pink.png'\nimport purpleIcon from '../icons/purple.png'\nimport blueIcon from '../icons/blue.png'\n\nconst ColorSelector = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const setSelectedColor = (colorValue) => {\n        let newState = Object.assign({}, globalState);\n        newState.selectedColor = colorValue;\n        setGlobalState(newState);\n    }\n\n    return (\n        <div id='colorSelectorContainer'>\n            <IconButton btnTitle='Black' imgSrc={blackIcon} onClick_p={() => { setSelectedColor('#000000') }}\n                size={32} selected={globalState.selectedColor === '#000000'} />\n\n            <IconButton btnTitle='White' imgSrc={whiteIcon} onClick_p={() => { setSelectedColor('#ffffff') }}\n                size={32} selected={globalState.selectedColor === '#ffffff'} />\n\n            <IconButton btnTitle='Red' imgSrc={redIcon} onClick_p={() => { setSelectedColor('#ff0000') }}\n                size={32} selected={globalState.selectedColor === '#ff0000'} />\n\n            <IconButton btnTitle='Light red' imgSrc={lightRedIcon} onClick_p={() => { setSelectedColor('#f85e43') }}\n                size={32} selected={globalState.selectedColor === '#f85e43'} />\n\n            <IconButton btnTitle='Orange' imgSrc={orangeIcon} onClick_p={() => { setSelectedColor('#f39127') }}\n                size={32} selected={globalState.selectedColor === '#f39127'} />\n\n            <IconButton btnTitle='Yellow' imgSrc={yellowIcon} onClick_p={() => { setSelectedColor('#f3c327') }}\n                size={32} selected={globalState.selectedColor === '#f3c327'} />\n\n            <IconButton btnTitle='Green' imgSrc={greenIcon} onClick_p={() => { setSelectedColor('#34a234') }}\n                size={32} selected={globalState.selectedColor === '#34a234'} />\n\n            <IconButton btnTitle='Pink' imgSrc={pinkIcon} onClick_p={() => { setSelectedColor('#f74579') }}\n                size={32} selected={globalState.selectedColor === '#f74579'} />\n\n            <IconButton btnTitle='Purple' imgSrc={purpleIcon} onClick_p={() => { setSelectedColor('#8d00cf') }}\n                size={32} selected={globalState.selectedColor === '#8d00cf'} />\n\n            <IconButton btnTitle='Blue' imgSrc={blueIcon} onClick_p={() => { setSelectedColor('#4376f8') }}\n                size={32} selected={globalState.selectedColor === '#4376f8'} />\n\n            <input type=\"color\" id=\"colorPicker\" onChange={(e) => { setSelectedColor(e.target.value) }} />\n        </div>\n    );\n}\n\nexport default ColorSelector;","import React from 'react'\nimport './TextAndRangeSelector.css'\n\n/*a number input field with a range input field next to it, both kept in sync and \nenforcing min and max values*/\nconst TextAndRangeSelector = ({min, max, unit, initValue, setValue}) => {\n\n    const textRef = React.useRef();\n    const rangeRef = React.useRef();\n\n    const validateInput = (input) => {\n        if (!input) return;\n        if (input < min)\n            input = min;\n        if (input > max)\n            input = max;\n        textRef.current.value = input;\n        rangeRef.current.value = input;\n\n        setValue(input);\n    }\n\n    return (\n        <div id='selectorContainer'>\n            <input type='number' id='selectorText' defaultValue={initValue} ref={textRef}\n                onChange={(e) => validateInput(e.target.value)} />\n            <p>  {unit}</p>\n            <input type='range' id='selectorRange' defaultValue={initValue} ref={rangeRef}\n                onChange={(e) => validateInput(e.target.value)} />\n        </div>\n    );\n}\n\nexport default TextAndRangeSelector;","export default __webpack_public_path__ + \"static/media/hide.2a8a0743.png\";","export default __webpack_public_path__ + \"static/media/unhide.e6ff1808.png\";","import React from 'react'\nimport IconButton from './IconButton'\nimport './LayerMenuItem.css'\nimport hideIcon from '../icons/hide.png'\nimport unhideIcon from '../icons/unhide.png'\n\nconst LayerMenuItem = ({ name, selected, hidden, rename, select, hide }) => {\n\n    const [layerClass, setClass] = React.useState('layerMenuItemUnselected');\n\n    const renderClass = selected ? 'layerMenuItemSelected' : layerClass;\n    const title = hidden ? 'Unhide Layer' : 'Hide Layer';\n    const imSrc = hidden ? unhideIcon : hideIcon;\n\n    return (\n        <div className={renderClass} onClick={select}\n            onMouseOver={() => setClass('layerMenuItemHovered')}\n            onMouseOut={() => setClass('layerMenuItemUnselected')}>\n\n            <IconButton btnTitle={title} imgSrc={imSrc} size={28} selected={false}\n                onClick_p={(e) => { e.stopPropagation(); hide(); }} />\n\n            <span id='layerName' onDoubleClick={rename}>{name}</span>\n\n        </div>\n    );\n}\n\nexport default LayerMenuItem;","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/X.d73ecd37.png\";","export default __webpack_public_path__ + \"static/media/up.7d9ac618.png\";","export default __webpack_public_path__ + \"static/media/down.c8a3bbaa.png\";","export default __webpack_public_path__ + \"static/media/copy.01dda647.png\";","export default __webpack_public_path__ + \"static/media/paste.b7884835.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport { layers, clearUndoRedoStacks } from '../drawData'\nimport _cloneDeep from 'lodash/cloneDeep';\nimport IconButton from './IconButton'\nimport TextAndRangeSelector from './TextAndRangeSelector'\nimport LayerMenuItem from './LayerMenuItem'\nimport './LayerMenu.css'\nimport plusIcon from '../icons/plus.png'\nimport xIcon from '../icons/X.png'\nimport upIcon from '../icons/up.png'\nimport downIcon from '../icons/down.png'\nimport copyIcon from '../icons/copy.png'\nimport pasteIcon from '../icons/paste.png'\n\nlet clipboard = 'empty';\n\nconst LayerMenu = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const layerArray = layers[globalState.curFrame];\n\n    React.useEffect(() => {\n        let newState = Object.assign({}, globalState);\n        layers[0].push({\n            id: globalState.newLayerId,\n            imgData: null,\n            hidden: false,\n            name: 'Layer 0',\n            opacity: 100\n        });\n        newState.newLayerId++;\n        setGlobalState(newState);\n    }, []);\n\n    /*This function actually toggles the 'hidden' status of the layer*/\n    const hideLayer = (index) => {\n        let newState = Object.assign({}, globalState);\n        layerArray[index].hidden = !layerArray[index].hidden;\n        newState.newLayerId++;\n        setGlobalState(newState);\n    }\n\n    const selectLayer = (index) => {\n        let newState = Object.assign({}, globalState);\n        newState.curLayer = index;\n        setGlobalState(newState);\n        clearUndoRedoStacks();\n    }\n\n    const renameLayer = (index) => {\n        let newState = Object.assign({}, globalState);\n        let newName = prompt(\"Rename layer:\", layerArray[index].name);\n        if (!(newName == \"\" || newName == null)) {\n            layerArray[index].name = newName;\n        }\n        newState.newLayerId++;\n        setGlobalState(newState);\n    }\n\n    const addLayer = () => {\n        let newState = Object.assign({}, globalState);\n\n        layerArray.unshift({\n            id: globalState.newLayerId,\n            imgData: null,\n            hidden: false,\n            name: 'Layer 0',\n            opacity: 100\n        });\n\n        newState.curLayer++;\n        newState.newLayerId++;\n        setGlobalState(newState);\n        clearUndoRedoStacks();\n    }\n\n    const removeLayer = () => {\n        if (layerArray.length === 1) return;\n        if(!window.confirm('Permanently delete this layer?')) return;\n\n        let newState = Object.assign({}, globalState);\n\n        layerArray.splice(globalState.curLayer, 1);\n        if (globalState.curLayer === layerArray.length)\n            newState.curLayer--;\n\n        newState.newLayerId++;\n        setGlobalState(newState);\n        clearUndoRedoStacks();\n    }\n\n    const moveLayerUp = () => {\n        if (globalState.curLayer === 0) return;\n        let newState = Object.assign({}, globalState);\n\n        let temp = layerArray[globalState.curLayer];\n        layerArray[globalState.curLayer] = layerArray[globalState.curLayer - 1];\n        layerArray[globalState.curLayer - 1] = temp;\n        newState.curLayer--;\n\n        setGlobalState(newState);\n    }\n\n    const moveLayerDown = () => {\n        if (globalState.curLayer === layerArray.length - 1) return;\n        let newState = Object.assign({}, globalState);\n\n        let temp = layerArray[globalState.curLayer];\n        layerArray[globalState.curLayer] = layerArray[globalState.curLayer + 1];\n        layerArray[globalState.curLayer + 1] = temp;\n        newState.curLayer++;\n\n        setGlobalState(newState);\n    }\n\n    const setLayerOpacity = (value) => {\n        layerArray[globalState.curLayer].opacity = value;\n    }\n\n    const copyLayer = () => {\n        clipboard = layerArray[globalState.curLayer].imgData;\n        clipboard.data.set(new Uint8ClampedArray(layerArray[globalState.curLayer].imgData.data));\n    }\n\n    const pasteLayer = () => {\n        let newState = Object.assign({}, globalState);\n        let newData = clipboard;\n        newData.data.set(new Uint8ClampedArray(clipboard.data));\n        layerArray.unshift({\n            id: globalState.newLayerId,\n            imgData: clipboard,\n            hidden: false,\n            name: 'Pasted Layer',\n            opacity: 100\n        });\n        newState.curLayer++;\n        newState.newLayerId++;\n        setGlobalState(newState);\n    }\n\n    return (\n        <div id='layerMenuContainer'>\n\n            <h2>Current Layer Opacity</h2>\n            <TextAndRangeSelector min={0} max={100} unit='%' initValue={100} setValue={setLayerOpacity} />\n\n            <IconButton btnTitle='Add layer at top' imgSrc={plusIcon} onClick_p={addLayer}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Remove current layer' imgSrc={xIcon} onClick_p={removeLayer}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Move current layer up' imgSrc={upIcon} onClick_p={moveLayerUp}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Move current layer down' imgSrc={downIcon} onClick_p={moveLayerDown}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Copy current layer' imgSrc={copyIcon} onClick_p={copyLayer}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Paste layer' imgSrc={pasteIcon} onClick_p={pasteLayer}\n                size={28} selected={false} />\n\n            {layers[globalState.curFrame].map(({ id, imgData, hidden, name }, index) =>\n                <LayerMenuItem\n                    key={id}\n                    name={name}\n                    selected={globalState.curLayer === index}\n                    hidden={hidden}\n                    rename={() => renameLayer(index)} select={() => selectLayer(index)}\n                    hide={() => hideLayer(index)} />\n            )}\n\n        </div>\n    );\n}\n\nexport default LayerMenu;","import React from 'react'\nimport FlipbookContext from '../context'\nimport ColorSelector from './ColorSelector'\nimport TextAndRangeSelector from './TextAndRangeSelector'\nimport LayerMenu from './LayerMenu'\nimport './Sidebar.css'\n\nconst Sidebar = () => {\n\n    const {globalState, setGlobalState} = React.useContext(FlipbookContext);\n\n    const setSelectedSize = (size) =>{\n        let newState = Object.assign({}, globalState);\n        newState.selectedSize = size;\n        setGlobalState(newState);\n    }\n\n    const setLastFrameOpacity = (value) => {\n        let newState = Object.assign({}, globalState);\n        newState.botCanvasOpacity = value;\n        setGlobalState(newState);\n    }\n\n    return (\n        <div id='sidebarContainer'>\n            <h1>Brush Color</h1>\n            <ColorSelector />\n            <h1>Brush Size</h1>\n            <TextAndRangeSelector min={1} max={100} unit='px' initValue={1} setValue={setSelectedSize}/>\n            <h1>Last Frame Opacity</h1>\n            <TextAndRangeSelector min={0} max={100} unit='%' initValue={20} setValue={setLastFrameOpacity}/>\n            <h1>Layers</h1>\n            <LayerMenu />\n        </div>\n    );\n}\n\nexport default Sidebar;","export default __webpack_public_path__ + \"static/media/left-arrow.80e904ad.png\";","export default __webpack_public_path__ + \"static/media/right-arrow.610490a6.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport IconButton from './IconButton'\nimport { layers, clearUndoRedoStacks, botCanvas } from '../drawData'\nimport './BottomBar.css'\nimport leftArrowIcon from '../icons/left-arrow.png'\nimport rightArrowIcon from '../icons/right-arrow.png'\nimport plusIcon from '../icons/plus.png'\nimport xIcon from '../icons/X.png'\n\nlet framesPerSecond = 1;\n\nconst BottomBar = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const addFrame = () => {\n        let newState = Object.assign({}, globalState);\n        layers.splice(globalState.curFrame + 1, 0, [{\n            id: globalState.newLayerId,\n            imgData: null,\n            hidden: false,\n            name: 'New Layer',\n            opacity: 100\n        }]);\n        newState.curFrame++;\n        newState.newLayerId++;\n        newState.curLayer = 0;\n        clearUndoRedoStacks();\n        drawFrameToBottomCanvas(globalState.curFrame);\n        setGlobalState(newState);\n    }\n\n    const removeFrame = () => {\n        if (layers.length === 1) return;\n        if (!window.confirm('Permanently delete this frame?')) return;\n        let newState = Object.assign({}, globalState);\n        layers.splice(globalState.curFrame, 1);\n        if (globalState.curFrame === layers.length) {\n            newState.curFrame--;\n            drawFrameToBottomCanvas(globalState.curFrame - 2);\n        }\n        else {\n            drawFrameToBottomCanvas(globalState.curFrame - 1);\n        }\n        newState.newLayerId++;\n        newState.curLayer = 0;\n        setGlobalState(newState);\n        clearUndoRedoStacks();\n    }\n\n    const prevFrame = () => {\n        if (globalState.curFrame === 0) return;\n        let newState = Object.assign({}, globalState);\n        newState.curFrame--;\n        newState.curLayer = 0;\n        clearUndoRedoStacks();\n        drawFrameToBottomCanvas(globalState.curFrame - 2);\n        setGlobalState(newState);\n    }\n\n    const nextFrame = () => {\n        if (globalState.curFrame === layers.length - 1) return;\n        let newState = Object.assign({}, globalState);\n        newState.curFrame++;\n        newState.curLayer = 0;\n        clearUndoRedoStacks();\n        drawFrameToBottomCanvas(globalState.curFrame);\n        setGlobalState(newState);\n    }\n\n    const drawFrameToBottomCanvas = (frameIndex) => {\n        if (frameIndex < 0) return;\n        let bc = botCanvas.ref.current;\n        let bctx = bc.getContext('2d');\n        let tempCanvas = document.createElement(\"canvas\");\n        tempCanvas.width = bc.width;\n        tempCanvas.height = bc.height;\n        bctx.clearRect(0, 0, bc.width, bc.height);\n        for (let lyrIndex = layers[frameIndex].length - 1; lyrIndex >= 0; lyrIndex--) {\n            if (layers[frameIndex][lyrIndex].imgData)\n                tempCanvas.getContext('2d').putImageData(layers[frameIndex][lyrIndex].imgData, 0, 0);\n            bctx.drawImage(tempCanvas, 0, 0);\n        }\n    }\n\n    const createGIF = () => {\n    }\n\n    return (\n        <div id='bottombarContainer'>\n\n            <div id='topRow'>\n                <IconButton btnTitle='Add frame after current frame' imgSrc={plusIcon} onClick_p={addFrame}\n                    size={40} selected={false} />\n\n                <span id='chooseFrame'>\n                    <IconButton btnTitle='Last Frame' imgSrc={leftArrowIcon} onClick_p={prevFrame}\n                        size={40} selected={false} />\n\n                    <span id='frameNum'>frame {globalState.curFrame + 1}/{layers.length}</span>\n\n                    <IconButton btnTitle='Next Frame' imgSrc={rightArrowIcon} onClick_p={nextFrame}\n                        size={40} selected={false} />\n                </span>\n\n                <IconButton btnTitle='Remove current frame' imgSrc={xIcon} onClick_p={removeFrame}\n                    size={40} selected={false} />\n            </div>\n\n            <label>Frames per second:</label>\n            <input type='number' id='fps' name='fps' defaultValue={1} min={1}\n                onChange={(e) => { framesPerSecond = e.target.value; }} />\n\n            <button onClick={createGIF}>Create GIF</button>\n\n        </div>\n    );\n}\n\nexport default BottomBar;","import React from 'react';\nimport './CanvasForm.css'\n\nconst CanvasForm = ({ createCanvas_p }) => {\n\n    let inputWidth = 500;\n    let inputHeight = 500;\n\n    return (\n        <div id='canvasForm'>\n            <h1>Canvas Size</h1>\n            <p>Width:  </p>\n            <input type='number' defaultValue={500} onChange={(e) => inputWidth = e.target.value} />\n            <p> px</p>\n            <br />\n            <p>Height:  </p>\n            <input type='number' defaultValue={500} onChange={(e) => inputHeight = e.target.value} />\n            <p> px</p>\n            <br />\n            <button onClick={() => createCanvas_p(inputWidth, inputHeight)}>Create Canvas</button>\n        </div>\n    );\n}\n\nexport default CanvasForm;","import React from 'react'\nimport FlipbookContext from '../context'\nimport { tools, isDrawing } from '../drawData'\n\nconst Layer = ({ imgData, setImgData, width, height, top, left, zIndex, hidden, opacity }) => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const canvRef = React.useRef();\n\n    let canvs = canvRef ? canvRef.current : null;\n    let ctx = canvs ? canvs.getContext('2d') : null;\n\n    if (ctx) {\n        ctx.strokeStyle = globalState.selectedColor;\n        ctx.lineWidth = globalState.selectedSize;\n    }\n\n    React.useEffect(() => {\n        if (ctx) {\n            if (!isDrawing && imgData !== null) {\n                ctx.putImageData(imgData, 0, 0);\n            }\n        }\n    });\n\n    return (\n        <canvas ref={canvRef}\n            width={width * window.devicePixelRatio}\n            height={height * window.devicePixelRatio}\n\n            onPointerDown={(event) => {\n                if (!canvs) return;\n                event.preventDefault();\n                let res = tools[globalState.selectedTool].startPath(event, canvs);\n                if (globalState.selectedTool === 'Dropper') {\n                    let newState = Object.assign({}, globalState);\n                    newState.selectedColor = res;\n                    setGlobalState(newState);\n                }\n            }}\n\n            onPointerMove={(event) => {\n                if (!canvs) return;\n                event.preventDefault();\n                tools[globalState.selectedTool].draw(event, canvs);\n            }}\n\n            onPointerUp={(event) => {\n                if (!canvs) return;\n                event.preventDefault();\n                tools[globalState.selectedTool].endPath();\n                setImgData(ctx.getImageData(0, 0, width, height));\n            }}\n\n            onPointerOut={(event) => {\n                if (!canvs) return;\n                event.preventDefault();\n                tools[globalState.selectedTool].endPath();\n                setImgData(ctx.getImageData(0, 0, width, height));\n            }}\n\n            style={{\n                position: 'absolute',\n                width: width,\n                height: height,\n                top: top + window.scrollY,\n                left: left + window.scrollX,\n                zIndex: zIndex,\n                pointerEvents: (zIndex === 0) ? 'all' : 'none',\n                visibility: hidden ? 'hidden' : 'visible',\n                opacity: opacity / 100\n            }} />);\n}\n\nexport default Layer;","import React from 'react'\nimport './DrawingArea.css'\nimport FlipbookContext from '../context'\nimport { layers, botCanvas } from '../drawData'\nimport Layer from './Layer'\nimport _debounce from 'lodash.debounce'\n\nconst DrawingArea = ({ width, height, botCanvasOpacity }) => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    botCanvas.ref = React.useRef();\n\n    const [pos, setPos] = React.useState({ top: 0, left: 0 });\n\n    React.useEffect(() => {\n        _debounce(() => {\n            let rect = botCanvas.ref.current.getBoundingClientRect();\n            setPos({ top: rect.top, left: rect.left });\n        }, 100)();\n    });\n\n    return (\n        <div id='canvasContainer'>\n            {layers.map((frame, frameIndex) =>\n                layers[globalState.curFrame].map(({ id, imgData, hasNewData, hidden, name, opacity }, lyrIndex) => <Layer\n                    key={id}\n                    imgData={imgData}\n                    hasNewData={hasNewData}\n                    setImgData={(newData) => {\n                        layers[globalState.curFrame][globalState.curLayer].imgData = newData;\n                    }}\n                    width={width}\n                    height={height}\n                    top={pos.top}\n                    left={pos.left}\n                    zIndex={(globalState.curLayer - lyrIndex)}\n                    hidden={hidden || (frameIndex !== globalState.curFrame)}\n                    opacity={opacity} />))}\n\n            <canvas id=\"bottomCanvas\" ref={botCanvas.ref}\n                width={width * window.devicePixelRatio}\n                height={height * window.devicePixelRatio}\n\n                style={{\n                    left: '50%',\n                    marginLeft: -(width / 2),\n                    width: width,\n                    height: height,\n                    opacity: botCanvasOpacity / 100,\n                    zIndex: -100\n                }} />\n        </div>\n    );\n\n}\n\nexport default DrawingArea;","import React from 'react'\nimport './Flipbook.css'\nimport FlipbookContext from '../context'\nimport CompletedGIF from './CompletedGIF'\nimport Toolbar from './Toolbar'\nimport UndoRedoBar from './UndoRedoBar.js'\nimport Sidebar from './Sidebar'\nimport BottomBar from './BottomBar'\nimport CanvasForm from './CanvasForm'\nimport DrawingArea from './DrawingArea'\n\nconst Flipbook = () => {\n\n    const [globalState, setGlobalState] = React.useState({\n        canvasOpen: false,\n        gifOpen: false,\n        canvasWidth: 0,\n        canvasHeight: 0,\n        selectedTool: 'Pencil',\n        selectedColor: '#000000',\n        selectedSize: 1,\n        curLayer: 0,\n        curFrame: 0,\n        newLayerId: 0,\n        botCanvasOpacity: 20\n    });\n\n    const createCanvas = (width, height) => {\n        let newState = Object.assign({}, globalState);\n        newState.canvasOpen = true;\n        newState.canvasWidth = width;\n        newState.canvasHeight = height;\n        setGlobalState(newState);\n    }\n\n    if (globalState.canvasOpen)\n        return (\n            <FlipbookContext.Provider value={{ globalState, setGlobalState }}>\n                <div id='topLevelContainer'>\n                    <div id='leftBar'>\n                        <Toolbar />\n                        <hr />\n                        <UndoRedoBar />\n                    </div>\n                    <DrawingArea width={globalState.canvasWidth} height={globalState.canvasHeight}\n                        botCanvasOpacity={globalState.botCanvasOpacity} />\n                    <Sidebar />\n                    <BottomBar />\n                    {globalState.gifOpen ? <CompletedGIF /> : ''}\n                </div>\n            </FlipbookContext.Provider>\n        );\n    else\n        return (\n            <CanvasForm createCanvas_p={createCanvas} />\n        );\n}\n\nexport default Flipbook","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Flipbook from './components/Flipbook'\n\nconst App = () => <Flipbook />\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}