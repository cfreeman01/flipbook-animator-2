(this["webpackJsonpflipbook-animator-2"]=this["webpackJsonpflipbook-animator-2"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var A=n(1),i=n.n(A),a=n(5),r=n.n(a),c=n(2),o=(n(10),i.a.createContext()),g=(n(11),n(0)),I=function(e){var t=e.gifSrc,n=i.a.useContext(o),A=n.globalState,a=n.setGlobalState;return Object(g.jsx)("div",{id:"gifContainer",onClick:function(){var e=Object.assign({},A);e.gifOpen=!1,a(e)},children:Object(g.jsx)("img",{src:t,onClick:function(e){e.stopPropagation()},style:{display:"table",margin:"auto"}})})},l=(n(13),function(e){var t=e.btnTitle,n=e.imgSrc,A=e.onClick_p,a=e.selected,r=e.size,o=i.a.useState("iconUnselected"),I=Object(c.a)(o,2),l=I[0],C=I[1],s=a?"iconSelected":l;return Object(g.jsx)("img",{alt:t,width:r,height:r,title:t,src:n,className:s,onClick:A,onMouseOver:function(){return C("iconHovered")},onMouseOut:function(){return C("iconUnselected")},onMouseDown:function(){return C("iconSelected")},onMouseUp:function(){return C("iconHovered")}})}),C=n.p+"static/media/pencil.588014e8.png",s=n.p+"static/media/pen.373e6d9c.png",u=n.p+"static/media/eraser.ce11724e.png",B=n.p+"static/media/dropper.f62bf4e2.png",Q=function(){var e=i.a.useContext(o),t=e.globalState,n=e.setGlobalState,A=function(e){var A=Object.assign({},t);A.selectedTool=e,n(A)};return Object(g.jsxs)("div",{id:"toolbarContainer",children:[Object(g.jsx)(l,{btnTitle:"Pencil",imgSrc:C,onClick_p:function(){return A("Pencil")},size:40,selected:"Pencil"===t.selectedTool}),Object(g.jsx)(l,{btnTitle:"Pen",imgSrc:s,onClick_p:function(){return A("Pen")},size:40,selected:"Pen"===t.selectedTool}),Object(g.jsx)(l,{btnTitle:"Eraser",imgSrc:u,onClick_p:function(){return A("Eraser")},size:40,selected:"Eraser"===t.selectedTool}),Object(g.jsx)(l,{btnTitle:"Dropper",imgSrc:B,onClick_p:function(){return A("Dropper")},size:40,selected:"Dropper"===t.selectedTool})]})},d=0,f=0,E=0,p=0,h=0,j=0,v=!1,w=[[]],m=[],b=[],O={ref:null},y=function(e,t){if(!v){var n=w[e][t];if(0!==m.length){b.push(n.imgData);var A=m.pop();n.imgData=A}}},F=function(e,t){if(!v){var n=w[e][t];if(0!==b.length){m.push(n.imgData);var A=b.pop();n.imgData=A}}},x=function(){m.length=0,b.length=0},Y=function(e,t){for(var n,A,i,a,r,c,o,g,I,l,C,s=[],u=0;u<=t;u++)n=(E-d)*e,A=(h-d)*e,i=(p-f)*e,a=(j-f)*e,r=u/16,c=2*Math.pow(r,3)-3*Math.pow(r,2)+1,o=-2*Math.pow(r,3)+3*Math.pow(r,2),g=Math.pow(r,3)-2*Math.pow(r,2)+r,I=Math.pow(r,3)-Math.pow(r,2),l=c*d+o*E+g*n+I*A,C=c*f+o*p+g*i+I*a,s.push(l),s.push(C);return s},S={Pencil:{startPath:function(e,t){var n=t.getContext("2d"),A=t.getBoundingClientRect();m.push(n.getImageData(0,0,t.width,t.height)),b.length=0,v=!0,d=E=e.clientX-A.left,f=p=e.clientY-A.top},draw:function(e,t){var n=t.getBoundingClientRect(),A=t.getContext("2d");if(h=e.clientX-n.left,j=e.clientY-n.top,A.lineCap="round",A.lineJoin="round",!0===v){var i=Y(.5,16);A.beginPath(),A.moveTo(i[0],i[1]);for(var a=2;a<i.length-1;a+=2)A.lineTo(i[a],i[a+1]);A.stroke(),A.closePath(),d=E,f=p,E=h,p=j}},endPath:function(){v=!1}},Pen:{startPath:function(e,t){var n=t.getContext("2d"),A=t.getBoundingClientRect();m.push(n.getImageData(0,0,t.width,t.height)),b.length=0,v=!0,d=E=e.clientX-A.left,f=p=e.clientY-A.top},draw:function(e,t){var n=t.getBoundingClientRect(),A=t.getContext("2d");h=e.clientX-n.left,j=e.clientY-n.top;if(A.lineCap="square",A.lineJoin="square",!0===v){var i=Y(.5,16);A.beginPath(),A.moveTo(i[0]-2,i[1]-1);for(var a=2;a<i.length-1;a+=2)A.lineTo(i[a]-2,i[a+1]-1);A.moveTo(i[0],i[1]);for(var r=2;r<i.length-1;r+=2)A.lineTo(i[r]-1,i[r+1]-1);A.moveTo(i[0]+1,i[1]+1);for(var c=2;c<i.length-1;c+=2)A.lineTo(i[c],i[c+1]);A.moveTo(i[0]+2,i[1]+2);for(var o=2;o<i.length-1;o+=2)A.lineTo(i[o]+2,i[o+1]+2);A.stroke(),A.closePath(),d=E,f=p,E=h,p=j}},endPath:function(){v=!1}},Eraser:{startPath:function(e,t){var n=t.getContext("2d"),A=t.getBoundingClientRect();m.push(n.getImageData(0,0,t.width,t.height)),b.length=0,v=!0,d=E=e.clientX-A.left,f=p=e.clientY-A.top},draw:function(e,t){var n=t.getBoundingClientRect(),A=t.getContext("2d");if(h=e.clientX-n.left,j=e.clientY-n.top,A.lineCap="round",A.lineJoin="round",!0===v){var i=A.strokeStyle;A.strokeStyle="rgba(255,255,255,1)",A.globalCompositeOperation="destination-out";var a=Y(.5,16);A.beginPath(),A.moveTo(a[0],a[1]);for(var r=2;r<a.length-1;r+=2)A.lineTo(a[r],a[r+1]);A.stroke(),A.closePath(),d=E,f=p,E=h,p=j,A.strokeStyle=i,A.globalCompositeOperation="source-over"}},endPath:function(){v=!1}},Dropper:{startPath:function(e,t){for(var n=t.getBoundingClientRect(),A=t.getContext("2d"),i=e.clientX-n.left,a=e.clientY-n.top,r=A.getImageData(i*window.devicePixelRatio,a*window.devicePixelRatio,1,1).data,c=[],o=0;o<3;o++)c[o]=r[o].toString(16),1===c[o].length&&(c[o]="0"+c[o]);return"#"+c[0]+c[1]+c[2]},draw:function(e){},endPath:function(){}}},P=n.p+"static/media/undo.eb7626ba.png",M=n.p+"static/media/redo.b5eb995b.png",L=!1,T=function(){var e=i.a.useContext(o),t=e.globalState,n=e.setGlobalState,A=function(e){if(!0===e.ctrlKey&&(L=!0),"z"===e.key&&1==L){e.preventDefault(),y(t.curFrame,t.curLayer);var A=Object.assign({},t);A.newLayerId++,n(A)}if("y"===e.key&&1==L){e.preventDefault(),F(t.curFrame,t.curLayer);var i=Object.assign({},t);i.newLayerId++,n(i)}},a=function(e){"Control"===e.key&&(L=!1)};return i.a.useEffect((function(){return document.addEventListener("keydown",A),document.addEventListener("keyup",a),function(){document.removeEventListener("keydown",A),document.removeEventListener("keyup",a)}})),Object(g.jsxs)("div",{children:[Object(g.jsx)(l,{btnTitle:"Undo (ctrl + z)",imgSrc:P,onClick_p:function(e){y(t.curFrame,t.curLayer);var A=Object.assign({},t);A.newLayerId++,n(A)},size:40,selected:!1}),Object(g.jsx)(l,{btnTitle:"Redo (ctrl + y)",imgSrc:M,onClick_p:function(e){F(t.curFrame,t.curLayer);var A=Object.assign({},t);A.newLayerId++,n(A)},size:40,selected:!1})]})},k=(n(14),n(4)),z=n.n(k),D=n.p+"static/media/black.1fd5be43.png",U=n.p+"static/media/white.f637800e.png",K=n.p+"static/media/red.d9268b17.png",G=n.p+"static/media/lightred.b2e9f841.png",X=n.p+"static/media/orange.7ab39e4f.png",N=n.p+"static/media/yellow.259f7955.png",W=n.p+"static/media/green.71014684.png",R=n.p+"static/media/pink.2a087a8e.png",H=n.p+"static/media/purple.5c807439.png",J=n.p+"static/media/blue.d0223170.png",Z=function(){var e=i.a.useContext(o),t=e.globalState,n=e.setGlobalState,A=function(e){var A=Object.assign({},t);A.selectedColor=e,n(A)};return Object(g.jsxs)("div",{id:"colorSelectorContainer",children:[Object(g.jsx)(l,{btnTitle:"Black",imgSrc:D,onClick_p:function(){A("#000000")},size:32,selected:"#000000"===t.selectedColor}),Object(g.jsx)(l,{btnTitle:"White",imgSrc:U,onClick_p:function(){A("#ffffff")},size:32,selected:"#ffffff"===t.selectedColor}),Object(g.jsx)(l,{btnTitle:"Red",imgSrc:K,onClick_p:function(){A("#ff0000")},size:32,selected:"#ff0000"===t.selectedColor}),Object(g.jsx)(l,{btnTitle:"Light red",imgSrc:G,onClick_p:function(){A("#f85e43")},size:32,selected:"#f85e43"===t.selectedColor}),Object(g.jsx)(l,{btnTitle:"Orange",imgSrc:X,onClick_p:function(){A("#f39127")},size:32,selected:"#f39127"===t.selectedColor}),Object(g.jsx)(l,{btnTitle:"Yellow",imgSrc:N,onClick_p:function(){A("#f3c327")},size:32,selected:"#f3c327"===t.selectedColor}),Object(g.jsx)(l,{btnTitle:"Green",imgSrc:W,onClick_p:function(){A("#34a234")},size:32,selected:"#34a234"===t.selectedColor}),Object(g.jsx)(l,{btnTitle:"Pink",imgSrc:R,onClick_p:function(){A("#f74579")},size:32,selected:"#f74579"===t.selectedColor}),Object(g.jsx)(l,{btnTitle:"Purple",imgSrc:H,onClick_p:function(){A("#8d00cf")},size:32,selected:"#8d00cf"===t.selectedColor}),Object(g.jsx)(l,{btnTitle:"Blue",imgSrc:J,onClick_p:function(){A("#4376f8")},size:32,selected:"#4376f8"===t.selectedColor}),Object(g.jsx)("input",{type:"color",id:"colorPicker",onChange:function(e){A(e.target.value)}})]})},V=(n(16),function(e){var t=e.min,n=e.max,A=e.unit,a=e.initValue,r=e.setValue,c=i.a.useRef(),o=i.a.useRef(),I=function(e){e&&(e<t&&(e=t),e>n&&(e=n),c.current.value=e,o.current.value=e,r(e))};return Object(g.jsxs)("div",{id:"selectorContainer",children:[Object(g.jsx)("input",{type:"number",id:"selectorText",defaultValue:a,ref:c,onChange:function(e){return I(e.target.value)}}),Object(g.jsxs)("p",{children:["  ",A]}),Object(g.jsx)("input",{type:"range",id:"selectorRange",defaultValue:a,ref:o,onChange:function(e){return I(e.target.value)}})]})}),q=(n(17),n.p+"static/media/hide.2a8a0743.png"),_=n.p+"static/media/unhide.e6ff1808.png",$=function(e){var t=e.name,n=e.selected,A=e.hidden,a=e.rename,r=e.select,o=e.hide,I=i.a.useState("layerMenuItemUnselected"),C=Object(c.a)(I,2),s=C[0],u=C[1],B=n?"layerMenuItemSelected":s,Q=A?"Unhide Layer":"Hide Layer",d=A?_:q;return Object(g.jsxs)("div",{className:B,onClick:r,onMouseOver:function(){return u("layerMenuItemHovered")},onMouseOut:function(){return u("layerMenuItemUnselected")},children:[Object(g.jsx)(l,{btnTitle:Q,imgSrc:d,size:28,selected:!1,onClick_p:function(e){e.stopPropagation(),o()}}),Object(g.jsx)("span",{id:"layerName",onDoubleClick:a,children:t})]})},ee=(n(18),"data:image/png;base64,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"),te=n.p+"static/media/X.d73ecd37.png",ne=n.p+"static/media/up.7d9ac618.png",Ae=n.p+"static/media/down.c8a3bbaa.png",ie=n.p+"static/media/copy.01dda647.png",ae=n.p+"static/media/paste.b7884835.png",re="empty",ce=function(){var e=i.a.useContext(o),t=e.globalState,n=e.setGlobalState;i.a.useEffect((function(){w[0].push({id:0,imgData:null,hidden:!1,name:"Layer 0",opacity:100})}),[]);return Object(g.jsxs)("div",{id:"layerMenuContainer",children:[Object(g.jsx)("h2",{children:"Current Layer Opacity"}),Object(g.jsx)(V,{min:0,max:100,unit:"%",initValue:100,setValue:function(e){w[t.curFrame][t.curLayer].opacity=e;var A=Object.assign({},t);A.newLayerId++,n(A)}}),Object(g.jsx)(l,{btnTitle:"Add layer at top",imgSrc:ee,onClick_p:function(){var e=Object.assign({},t);w[t.curFrame].unshift({id:t.newLayerId,imgData:null,hidden:!1,name:"Layer "+t.newLayerId,opacity:100}),e.curLayer++,e.newLayerId++,n(e),x()},size:28,selected:!1}),Object(g.jsx)(l,{btnTitle:"Remove current layer",imgSrc:te,onClick_p:function(){if(1!==w[t.curFrame].length&&window.confirm("Permanently delete this layer?")){var e=Object.assign({},t);w[t.curFrame].splice(t.curLayer,1),t.curLayer===w[t.curFrame].length&&e.curLayer--,e.newLayerId++,n(e),x()}},size:28,selected:!1}),Object(g.jsx)(l,{btnTitle:"Move current layer up",imgSrc:ne,onClick_p:function(){if(0!==t.curLayer){var e=Object.assign({},t),A=w[t.curFrame][t.curLayer];w[t.curFrame][t.curLayer]=w[t.curFrame][t.curLayer-1],w[t.curFrame][t.curLayer-1]=A,e.curLayer--,n(e)}},size:28,selected:!1}),Object(g.jsx)(l,{btnTitle:"Move current layer down",imgSrc:Ae,onClick_p:function(){if(t.curLayer!==w[t.curFrame].length-1){var e=Object.assign({},t),A=w[t.curFrame][t.curLayer];w[t.curFrame][t.curLayer]=w[t.curFrame][t.curLayer+1],w[t.curFrame][t.curLayer+1]=A,e.curLayer++,n(e)}},size:28,selected:!1}),Object(g.jsx)(l,{btnTitle:"Copy current layer",imgSrc:ie,onClick_p:function(){(re=w[t.curFrame][t.curLayer].imgData).data.set(new Uint8ClampedArray(w[t.curFrame][t.curLayer].imgData.data))},size:28,selected:!1}),Object(g.jsx)(l,{btnTitle:"Paste layer",imgSrc:ae,onClick_p:function(){var e=Object.assign({},t);re.data.set(new Uint8ClampedArray(re.data)),w[t.curFrame].unshift({id:t.newLayerId,imgData:re,hidden:!1,name:"Pasted Layer",opacity:100}),e.curLayer++,e.newLayerId++,n(e)},size:28,selected:!1}),w[t.curFrame].map((function(e,A){var i=e.id,a=(e.imgData,e.hidden),r=e.name;return Object(g.jsx)($,{name:r,selected:t.curLayer===A,hidden:a,rename:function(){return function(e){var A=Object.assign({},t),i=prompt("Rename layer:",w[t.curFrame][e].name);""!=i&&null!=i&&(w[t.curFrame][e].name=i),A.newLayerId++,n(A)}(A)},select:function(){return function(e){var A=Object.assign({},t);A.curLayer=e,n(A),x()}(A)},hide:function(){return function(e){var A=Object.assign({},t);w[t.curFrame][e].hidden=!w[t.curFrame][e].hidden,A.newLayerId++,n(A)}(A)}},i)}))]})},oe=(n(19),function(){var e=i.a.useContext(o),t=e.globalState,n=e.setGlobalState,A=t.canvasTop+window.scrollY,a=t.canvasRight+window.scrollX>=window.innerWidth-190?t.canvasRight+15+window.scrollX:window.innerWidth-190;return Object(g.jsxs)("div",{id:"sidebarContainer",style:{left:a+"px",top:A+"px"},children:[Object(g.jsx)("h1",{children:"Brush Color"}),Object(g.jsx)(Z,{}),Object(g.jsx)("h1",{children:"Brush Size"}),Object(g.jsx)(V,{min:1,max:100,unit:"px",initValue:1,setValue:function(e){var A=Object.assign({},t);A.selectedSize=e,n(A)}}),Object(g.jsx)("h1",{children:"Last Frame Opacity"}),Object(g.jsx)(V,{min:0,max:100,unit:"%",initValue:20,setValue:function(e){var A=Object.assign({},t);A.botCanvasOpacity=e,n(A)}}),Object(g.jsx)("h1",{children:"Layers"}),Object(g.jsx)(ce,{})]})}),ge=(n(20),n.p+"static/media/left-arrow.80e904ad.png"),Ie=n.p+"static/media/right-arrow.610490a6.png",le=function(){var e,t,n,A,i,a,r,c,o,g,I,l,C={},s=-1,u=12,B=5003,Q=u,d=1<<u,f=[],E=[],p=B,h=0,j=!1,v=0,w=0,m=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],b=[],O=C.LZWEncoder=function(i,a,r,c){e=i,t=a,n=r,A=Math.max(2,c)},y=function(e,t){b[l++]=e,l>=254&&S(t)},F=function(e){x(p),h=g+2,j=!0,L(g,e)},x=function(e){for(var t=0;t<e;++t)f[t]=-1},Y=C.compress=function(e,t){var n,A,i,a,C,u,B;for(j=!1,c=P(r=o=e),I=(g=1<<e-1)+1,h=g+2,l=0,a=M(),B=0,n=p;n<65536;n*=2)++B;B=8-B,x(u=p),L(g,t);e:for(;(i=M())!=s;)if(n=(i<<Q)+a,f[A=i<<B^a]!=n){if(f[A]>=0){C=u-A,0===A&&(C=1);do{if((A-=C)<0&&(A+=u),f[A]==n){a=E[A];continue e}}while(f[A]>=0)}L(a,t),a=i,h<d?(E[A]=h++,f[A]=n):F(t)}else a=E[A];L(a,t),L(I,t)},S=(C.encode=function(n){n.writeByte(A),i=e*t,a=0,Y(A+1,n),n.writeByte(0)},function(e){l>0&&(e.writeByte(l),e.writeBytes(b,0,l),l=0)}),P=function(e){return(1<<e)-1},M=function(){return 0===i?s:(--i,255&n[a++])},L=function(e,t){for(v&=m[w],w>0?v|=e<<w:v=e,w+=r;w>=8;)y(255&v,t),v>>=8,w-=8;if((h>c||j)&&(j?(c=P(r=o),j=!1):(++r,c=r==Q?d:P(r))),e==I){for(;w>0;)y(255&v,t),v>>=8,w-=8;S(t)}};return O.apply(this,arguments),C},Ce=function(){var e,t,n,A,i,a={},r=256,c=499,o=491,g=487,I=503,l=3*I,C=r-1,s=4,u=100,B=16,Q=1<<B,d=10,f=10,E=Q>>f,p=Q<<d-f,h=r>>3,j=6,v=1<<j,w=h*v,m=30,b=10,O=1<<b,y=8,F=1<<y,x=b+y,Y=1<<x,S=[],P=[],M=[],L=[],T=a.NeuQuant=function(e,a,c){var o,g;for(t=e,n=a,A=c,i=new Array(r),o=0;o<r;o++)i[o]=new Array(4),(g=i[o])[0]=g[1]=g[2]=(o<<s+8)/r,M[o]=Q/r,P[o]=0},k=function(){for(var e=[],t=new Array(r),n=0;n<r;n++)t[i[n][3]]=n;for(var A=0,a=0;a<r;a++){var c=t[a];e[A++]=i[c][0],e[A++]=i[c][1],e[A++]=i[c][2]}return e},z=function(){var e,t,n,A,a,c,o,g;for(o=0,g=0,e=0;e<r;e++){for(n=e,A=(a=i[e])[1],t=e+1;t<r;t++)(c=i[t])[1]<A&&(n=t,A=c[1]);if(c=i[n],e!=n&&(t=c[0],c[0]=a[0],a[0]=t,t=c[1],c[1]=a[1],a[1]=t,t=c[2],c[2]=a[2],a[2]=t,t=c[3],c[3]=a[3],a[3]=t),A!=o){for(S[o]=g+e>>1,t=o+1;t<A;t++)S[t]=e;o=A,g=e}}for(S[o]=g+C>>1,t=o+1;t<256;t++)S[t]=C},D=function(){var i,a,r,C,B,Q,d,f,E,p,h,v,b,y;for(n<l&&(A=1),e=30+(A-1)/3,v=t,b=0,y=n,p=(h=n/(3*A))/u|0,f=O,(d=(Q=w)>>j)<=1&&(d=0),i=0;i<d;i++)L[i]=f*((d*d-i*i)*F/(d*d));for(E=n<l?3:n%c!==0?3*c:n%o!==0?3*o:n%g!==0?3*g:3*I,i=0;i<h;)if(r=(255&v[b+0])<<s,C=(255&v[b+1])<<s,B=(255&v[b+2])<<s,a=X(r,C,B),G(f,a,r,C,B),0!==d&&K(d,a,r,C,B),(b+=E)>=y&&(b-=n),0===p&&(p=1),++i%p===0)for(f-=f/e,(d=(Q-=Q/m)>>j)<=1&&(d=0),a=0;a<d;a++)L[a]=f*((d*d-a*a)*F/(d*d))},U=(a.map=function(e,t,n){var A,a,c,o,g,I,l;for(g=1e3,l=-1,a=(A=S[t])-1;A<r||a>=0;)A<r&&((c=(I=i[A])[1]-t)>=g?A=r:(A++,c<0&&(c=-c),(o=I[0]-e)<0&&(o=-o),(c+=o)<g&&((o=I[2]-n)<0&&(o=-o),(c+=o)<g&&(g=c,l=I[3])))),a>=0&&((c=t-(I=i[a])[1])>=g?a=-1:(a--,c<0&&(c=-c),(o=I[0]-e)<0&&(o=-o),(c+=o)<g&&((o=I[2]-n)<0&&(o=-o),(c+=o)<g&&(g=c,l=I[3]))));return l},a.process=function(){return D(),U(),z(),k()},function(){var e;for(e=0;e<r;e++)i[e][0]>>=s,i[e][1]>>=s,i[e][2]>>=s,i[e][3]=e}),K=function(e,t,n,A,a){var c,o,g,I,l,C,s;for((g=t-e)<-1&&(g=-1),(I=t+e)>r&&(I=r),c=t+1,o=t-1,C=1;c<I||o>g;){if(l=L[C++],c<I){s=i[c++];try{s[0]-=l*(s[0]-n)/Y,s[1]-=l*(s[1]-A)/Y,s[2]-=l*(s[2]-a)/Y}catch(u){}}if(o>g){s=i[o--];try{s[0]-=l*(s[0]-n)/Y,s[1]-=l*(s[1]-A)/Y,s[2]-=l*(s[2]-a)/Y}catch(u){}}}},G=function(e,t,n,A,a){var r=i[t];r[0]-=e*(r[0]-n)/O,r[1]-=e*(r[1]-A)/O,r[2]-=e*(r[2]-a)/O},X=function(e,t,n){var A,a,c,o,g,I,l,C,u,Q;for(u=C=~(1<<31),l=I=-1,A=0;A<r;A++)(a=(Q=i[A])[0]-e)<0&&(a=-a),(c=Q[1]-t)<0&&(c=-c),a+=c,(c=Q[2]-n)<0&&(c=-c),(a+=c)<C&&(C=a,I=A),(o=a-(P[A]>>B-s))<u&&(u=o,l=A),g=M[A]>>f,M[A]-=g,P[A]+=g<<d;return M[I]+=E,P[I]-=p,l};return T.apply(this,arguments),a},se=1,ue=function(){var e=i.a.useContext(o),t=e.globalState,n=e.setGlobalState,A=function(e,t){var n=e.getContext("2d"),A=document.createElement("canvas");if(A.width=e.width,A.height=e.height,n.clearRect(0,0,e.width/window.devicePixelRatio,e.height/window.devicePixelRatio),n.fillStyle="white",n.fillRect(0,0,e.width/window.devicePixelRatio,e.height/window.devicePixelRatio),!(t<0))for(var i=w[t].length-1;i>=0;i--){var a=w[t][i];a.imgData&&!a.hidden&&(n.globalAlpha=a.opacity/100,A.getContext("2d").putImageData(w[t][i].imgData,0,0,0,0,e.width/window.devicePixelRatio,e.height/window.devicePixelRatio),e.getContext("2d").drawImage(A,0,0,e.width/window.devicePixelRatio,e.height/window.devicePixelRatio))}};return Object(g.jsxs)("div",{id:"bottombarContainer",style:{width:t.canvasWidth+"px"},children:[Object(g.jsxs)("div",{id:"topRow",children:[Object(g.jsx)(l,{btnTitle:"Add frame after current frame",imgSrc:ee,onClick_p:function(){var e=Object.assign({},t);w.splice(t.curFrame+1,0,[{id:t.newLayerId,imgData:null,hidden:!1,name:"Layer "+t.newLayerId,opacity:100}]),e.curFrame++,e.newLayerId++,e.curLayer=0,x(),A(O.ref.current,t.curFrame),n(e)},size:.08*t.canvasWidth,selected:!1}),Object(g.jsxs)("span",{id:"chooseFrame",children:[Object(g.jsx)(l,{btnTitle:"Last Frame",imgSrc:ge,onClick_p:function(){if(0!==t.curFrame){var e=Object.assign({},t);e.curFrame--,e.curLayer=0,x(),A(O.ref.current,t.curFrame-2),n(e)}},size:.08*t.canvasWidth,selected:!1}),Object(g.jsxs)("span",{id:"frameNum",children:["frame ",t.curFrame+1,"/",w.length]}),Object(g.jsx)(l,{btnTitle:"Next Frame",imgSrc:Ie,onClick_p:function(){if(t.curFrame!==w.length-1){var e=Object.assign({},t);e.curFrame++,e.curLayer=0,x(),A(O.ref.current,t.curFrame),n(e)}},size:.08*t.canvasWidth,selected:!1})]}),Object(g.jsx)(l,{btnTitle:"Remove current frame",imgSrc:te,onClick_p:function(){if(1!==w.length&&window.confirm("Permanently delete this frame?")){var e=Object.assign({},t);w.splice(t.curFrame,1),t.curFrame===w.length?(e.curFrame--,A(O.ref.current,t.curFrame-2)):A(O.ref.current,t.curFrame-1),e.newLayerId++,e.curLayer=0,n(e),x()}},size:.08*t.canvasWidth,selected:!1})]}),Object(g.jsx)("label",{children:"Frames per second:"}),Object(g.jsx)("input",{type:"number",id:"fps",name:"fps",defaultValue:se,min:1,onChange:function(e){se=e.target.value}}),Object(g.jsx)("button",{onClick:function(){var e=function(){for(var e=0,t={};e<256;e++)t[e]=String.fromCharCode(e);function n(){this.bin=[]}n.prototype.getData=function(){for(var e="",n=this.bin.length,A=0;A<n;A++)e+=t[this.bin[A]];return e},n.prototype.writeByte=function(e){this.bin.push(e)},n.prototype.writeUTFBytes=function(e){for(var t=e.length,n=0;n<t;n++)this.writeByte(e.charCodeAt(n))},n.prototype.writeBytes=function(e,t,n){for(var A=n||e.length,i=t||0;i<A;i++)this.writeByte(e[i])};var A,i,a,r,c,o,g,I,l,C={},s=null,u=-1,B=0,Q=!1,d=[],f=7,E=-1,p=!1,h=!0,j=!1,v=10,w="Generated by jsgif (https://github.com/antimatter15/jsgif/)",m=(C.setDelay=function(e){B=Math.round(e/10)},C.setDispose=function(e){e>=0&&(E=e)},C.setRepeat=function(e){e>=0&&(u=e)},C.setTransparent=function(e){s=e},C.setComment=function(e){w=e},C.addFrame=function(e,t){if(null===e||!Q||null===r)throw new Error("Please call start method before calling addFrame");var n=!0;try{t?e instanceof ImageData?(c=e.data,j&&A==e.width&&i==e.height||b(e.width,e.height)):e instanceof Uint8ClampedArray?e.length==A*i*4?c=e:(console.log("Please set the correct size: ImageData length mismatch"),n=!1):(console.log("Please provide correct input"),n=!1):(c=e.getImageData(0,0,e.canvas.width,e.canvas.height).data,j||b(e.canvas.width,e.canvas.height)),F(),O(),h&&(P(),L(),u>=0&&M()),x(),""!==w&&Y(),S(),h||L(),k(),h=!1}catch(a){n=!1}return n},C.download=function(e){if(null===r||0==p)console.log("Please call start method and add frames and call finish method before calling download");else{e=void 0!==e?e.endsWith(".gif")?e:e+".gif":"download.gif";var t=document.createElement("a");t.download=e,t.href=URL.createObjectURL(new Blob([new Uint8Array(r.bin)],{type:"image/gif"})),t.click()}},C.finish=function(){if(!Q)return!1;var e=!0;Q=!1;try{r.writeByte(59),p=!0}catch(t){e=!1}return e},function(){a=0,c=null,o=null,g=null,l=null,p=!1,h=!0}),b=(C.setFrameRate=function(e){15!=e&&(B=Math.round(100/e))},C.setQuality=function(e){e<1&&(e=1),v=e},C.setSize=function(e,t){Q&&!h||((A=e)<1&&(A=320),(i=t)<1&&(i=240),j=!0)}),O=(C.start=function(){m();var e=!0;p=!1,r=new n;try{r.writeUTFBytes("GIF89a")}catch(t){e=!1}return Q=e},C.cont=function(){return m(),p=!1,r=new n,Q=!0},function(){var e=o.length,t=e/3;g=[];var n=new Ce(o,e,v);l=n.process();for(var A=0,i=0;i<t;i++){var r=n.map(255&o[A++],255&o[A++],255&o[A++]);d[r]=!0,g[i]=r}o=null,I=8,f=7,null!==s&&(a=y(s))}),y=function(e){if(null===l)return-1;for(var t=(16711680&e)>>16,n=(65280&e)>>8,A=255&e,i=0,a=16777216,r=l.length,c=0;c<r;){var o=t-(255&l[c++]),g=n-(255&l[c++]),I=A-(255&l[c]),C=o*o+g*g+I*I,s=c/3;d[s]&&C<a&&(a=C,i=s),c++}return i},F=function(){var e=A,t=i;o=[];for(var n=c,a=0,r=0;r<t;r++)for(var g=0;g<e;g++){var I=r*e*4+4*g;o[a++]=n[I],o[a++]=n[I+1],o[a++]=n[I+2]}},x=function(){var e,t;r.writeByte(33),r.writeByte(249),r.writeByte(4),null===s?(e=0,t=0):(e=1,t=2),E>=0&&(t=7&E),t<<=2,r.writeByte(0|t|e),T(B),r.writeByte(a),r.writeByte(0)},Y=function(){r.writeByte(33),r.writeByte(254),r.writeByte(w.length),r.writeUTFBytes(w),r.writeByte(0)},S=function(){r.writeByte(44),T(0),T(0),T(A),T(i),h?r.writeByte(0):r.writeByte(128|f)},P=function(){T(A),T(i),r.writeByte(240|f),r.writeByte(0),r.writeByte(0)},M=function(){r.writeByte(33),r.writeByte(255),r.writeByte(11),r.writeUTFBytes("NETSCAPE2.0"),r.writeByte(3),r.writeByte(1),T(u),r.writeByte(0)},L=function(){r.writeBytes(l);for(var e=768-l.length,t=0;t<e;t++)r.writeByte(0)},T=function(e){r.writeByte(255&e),r.writeByte(e>>8&255)},k=function(){new le(A,i,g,I).encode(r)};return C.stream=function(){return r},C.setProperties=function(e,t){Q=e,h=t},C}(),i=1/se*1e3;e.setQuality(1),e.setRepeat(0),e.setDelay(i),e.start();var a=document.createElement("canvas"),r=a.getContext("2d");a.width=O.ref.current.width,a.height=O.ref.current.height;for(var c=0;c<w.length;c++)A(a,c),e.addFrame(r);e.finish();var o=e.stream().getData(),g="data:image/gif;base64,"+btoa(o),I=Object.assign({},t);I.gifOpen=!0,I.gifSrc=g,n(I)},children:"Create GIF"})]})},Be=(n(21),function(e){var t=e.createCanvas_p,n=500,A=500;return Object(g.jsxs)("div",{id:"canvasForm",children:[Object(g.jsx)("h1",{children:"Canvas Size"}),Object(g.jsx)("p",{children:"Width:  "}),Object(g.jsx)("input",{type:"number",defaultValue:500,onChange:function(e){return n=e.target.value}}),Object(g.jsx)("p",{children:" px"}),Object(g.jsx)("br",{}),Object(g.jsx)("p",{children:"Height:  "}),Object(g.jsx)("input",{type:"number",defaultValue:500,onChange:function(e){return A=e.target.value}}),Object(g.jsx)("p",{children:" px"}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:function(){return t(n,A)},children:"Create Canvas"})]})}),Qe=(n(22),function(e){var t=e.imgData,n=e.setImgData,A=e.width,a=e.height,r=e.top,c=e.left,I=e.zIndex,l=e.hidden,C=e.opacity,s=i.a.useContext(o),u=s.globalState,B=s.setGlobalState,Q=i.a.useRef();return i.a.useEffect((function(){var e=Q.current.getContext("2d");e&&(v||null===t||e.putImageData(t,0,0,0,0,A,a))})),i.a.useEffect((function(){Q.current.getContext("2d").scale(window.devicePixelRatio,window.devicePixelRatio)}),[]),Object(g.jsx)("canvas",{ref:Q,width:A*window.devicePixelRatio,height:a*window.devicePixelRatio,onPointerDown:function(e){if(Q.current){e.preventDefault();var t=Q.current.getContext("2d");t.strokeStyle=u.selectedColor,t.lineWidth=u.selectedSize;var n=S[u.selectedTool].startPath(e,Q.current);if("Dropper"===u.selectedTool){var A=Object.assign({},u);A.selectedColor=n,B(A)}}},onPointerMove:function(e){Q.current&&(e.preventDefault(),S[u.selectedTool].draw(e,Q.current))},onPointerUp:function(e){if(Q.current){e.preventDefault();var t=Q.current.getContext("2d");S[u.selectedTool].endPath(),n(t.getImageData(0,0,A,a))}},onPointerOut:function(e){if(Q.current){e.preventDefault();var t=Q.current.getContext("2d");S[u.selectedTool].endPath(),n(t.getImageData(0,0,A,a))}},style:{position:"absolute",width:A+"px",height:a+"px",top:r+"px",left:c+"px",zIndex:I,pointerEvents:0===I?"all":"none",visibility:l?"hidden":"visible",opacity:C/100}})}),de=function(e){var t=e.width,n=e.height,A=e.botCanvasOpacity,a=i.a.useContext(o),r=a.globalState,c=a.setGlobalState;O.ref=i.a.useRef();var I=function(){z()((function(){var e=O.ref.current.getBoundingClientRect();if(e.right!==r.canvasRight||e.left!==r.canvasLeft||e.top!==r.canvasTop){var t=Object.assign({},r);t.canvasTop=e.top,t.canvasLeft=e.left,t.canvasRight=e.right,c(t)}}),100)()};return i.a.useEffect((function(){return I(),window.addEventListener("resize",I),function(){return window.removeEventListener("resize",I)}})),Object(g.jsxs)("div",{id:"canvasContainer",children:[w.map((function(e,A){return w[r.curFrame].map((function(e,i){var a=e.id,c=e.imgData,o=e.hidden,I=(e.name,e.opacity);return Object(g.jsx)(Qe,{imgData:c,setImgData:function(e){w[r.curFrame][r.curLayer].imgData=e},width:t,height:n,top:r.canvasTop+window.scrollY,left:r.canvasLeft+window.scrollX,zIndex:r.curLayer-i,hidden:o||A!==r.curFrame,opacity:I},a)}))})),Object(g.jsx)("canvas",{id:"bottomCanvas",ref:O.ref,width:t*window.devicePixelRatio,height:n*window.devicePixelRatio,style:{position:"relative",width:t+"px",height:n+"px",opacity:A/100,zIndex:-100,display:"table",margin:"auto"}})]})},fe=function(){var e=i.a.useState({canvasOpen:!1,canvasWidth:0,canvasHeight:0,canvasTop:0,canvasLeft:0,canvasRight:0,botCanvasOpacity:20,selectedTool:"Pencil",selectedColor:"#000000",selectedSize:1,curLayer:0,curFrame:0,newLayerId:1,gifOpen:!1,gifSrc:""}),t=Object(c.a)(e,2),n=t[0],A=t[1];return n.canvasOpen?Object(g.jsx)(o.Provider,{value:{globalState:n,setGlobalState:A},children:Object(g.jsxs)("div",{id:"topLevelContainer",children:[Object(g.jsxs)("div",{id:"leftBar",children:[Object(g.jsx)(Q,{}),Object(g.jsx)("hr",{}),Object(g.jsx)(T,{})]}),Object(g.jsx)(de,{width:n.canvasWidth,height:n.canvasHeight,botCanvasOpacity:n.botCanvasOpacity}),Object(g.jsx)(oe,{}),Object(g.jsx)(ue,{}),n.gifOpen?Object(g.jsx)(I,{gifSrc:n.gifSrc}):""]})}):Object(g.jsx)(Be,{createCanvas_p:function(e,t){var i=Object.assign({},n);i.canvasOpen=!0,i.canvasWidth=e,i.canvasHeight=t,A(i)}})},Ee=function(){return Object(g.jsx)(fe,{})};r.a.render(Object(g.jsx)(Ee,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.84afa569.chunk.js.map