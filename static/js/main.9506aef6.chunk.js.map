{"version":3,"sources":["context.js","components/IconButton.js","icons/pencil.png","icons/pen.png","icons/eraser.png","icons/dropper.png","icons/undo.png","icons/redo.png","components/Toolbar.js","icons/black.png","icons/white.png","icons/red.png","icons/lightred.png","icons/orange.png","icons/yellow.png","icons/green.png","icons/pink.png","icons/purple.png","icons/blue.png","components/ColorSelector.js","components/TextAndRangeSelector.js","drawData.js","components/Layer.js","icons/hide.png","icons/unhide.png","components/LayerMenuItem.js","icons/plus.png","icons/X.png","icons/up.png","icons/down.png","icons/copy.png","icons/paste.png","components/LayerMenu.js","components/Sidebar.js","icons/left-arrow.png","icons/right-arrow.png","components/BottomBar.js","components/CanvasForm.js","components/DrawingArea.js","components/Flipbook.js","index.js"],"names":["FlipbookContext","React","createContext","IconButton","btnTitle","imgSrc","onClick_p","selected","size","useState","btnClass","setClass","iconClass","alt","width","height","title","src","className","onClick","onMouseOver","onMouseOut","onMouseDown","onMouseUp","Toolbar","useContext","globalState","setGlobalState","setSelectedTool","toolName","newState","Object","assign","selectedTool","id","pencilIcon","penIcon","eraserIcon","dropperIcon","undoIcon","console","log","redoIcon","ColorSelector","setSelectedColor","colorValue","selectedColor","blackIcon","whiteIcon","redIcon","lightRedIcon","orangeIcon","yellowIcon","greenIcon","pinkIcon","purpleIcon","blueIcon","type","onChange","e","target","value","TextAndRangeSelector","min","max","unit","initValue","setValue","textRef","useRef","rangeRef","validateInput","input","current","defaultValue","ref","oldX","oldY","midX","midY","newX","newY","isDrawing","layers","calcSmoothPoints","tension","numSegments","t1x","t2x","t1y","t2y","st","c1","c2","c3","c4","smoothedX","smoothedY","smoothedPoints","t","Math","pow","push","tools","Pencil","startPath","event","canvas","rect","getBoundingClientRect","clientX","left","clientY","top","draw","ctx","getContext","lineCap","lineJoin","beginPath","moveTo","i","length","lineTo","stroke","closePath","endPath","Pen","Eraser","tempStrokeStyle","strokeStyle","globalCompositeOperation","Dropper","Layer","zIndex","currentTool","currentColor","currentSize","canv","useEffect","scale","window","devicePixelRatio","canvs","lineWidth","onPointerDown","preventDefault","onPointerMove","onPointerUp","onPointerOut","style","position","scrollY","scrollX","pointerEvents","LayerMenuItem","name","hidden","rename","select","hide","layerClass","renderClass","imSrc","unhideIcon","hideIcon","stopPropagation","onDoubleClick","LayerMenu","layerMenuItems","setLayerMenuItems","plusIcon","newLmi","JSON","parse","stringify","unshift","newLayerId","curFrame","curLayer","xIcon","splice","upIcon","temp","downIcon","copyIcon","pasteIcon","map","item","index","newName","prompt","renameLayer","selectLayer","hideLayer","Sidebar","selectedSize","BottomBar","leftArrowIcon","rightArrowIcon","CanvasForm","createCanvas_p","inputWidth","inputHeight","DrawingArea","botCanvas","pos","setPos","_debounce","cloneElement","Flipbook","canvasOpen","canvasWidth","canvasHeight","Provider","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9506aef6.chunk.js","sourcesContent":["import React from 'react'\n\nconst FlipbookContext = React.createContext();\n\nexport default FlipbookContext;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './IconButton.css'\n\nconst IconButton = ({btnTitle, imgSrc, onClick_p, selected, size}) => {\n\n    const [btnClass, setClass] = React.useState('iconUnselected');\n\n    const iconClass = selected ? 'iconSelected' : btnClass;\n\n    return(\n        <img alt={btnTitle}\n        width={size}\n        height={size}\n        title={btnTitle} \n        src={imgSrc} \n        className={iconClass}\n        onClick={onClick_p} \n        onMouseOver={() => setClass('iconHovered')}\n        onMouseOut={() => setClass('iconUnselected')} \n        onMouseDown={() => setClass('iconSelected')} \n        onMouseUp={() => setClass('iconHovered')}/>\n    );\n}\n\nexport default IconButton;","export default __webpack_public_path__ + \"static/media/pencil.588014e8.png\";","export default __webpack_public_path__ + \"static/media/pen.373e6d9c.png\";","export default __webpack_public_path__ + \"static/media/eraser.ce11724e.png\";","export default __webpack_public_path__ + \"static/media/dropper.f62bf4e2.png\";","export default __webpack_public_path__ + \"static/media/undo.eb7626ba.png\";","export default __webpack_public_path__ + \"static/media/redo.b5eb995b.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport './Toolbar.css'\nimport IconButton from './IconButton'\nimport pencilIcon from '../icons/pencil.png'\nimport penIcon from '../icons/pen.png'\nimport eraserIcon from '../icons/eraser.png'\nimport dropperIcon from '../icons/dropper.png'\nimport undoIcon from '../icons/undo.png'\nimport redoIcon from '../icons/redo.png'\n\n//toolbar on the left side of the page\nconst Toolbar = () => {\n\n    const {globalState, setGlobalState} = React.useContext(FlipbookContext);\n\n    const undo = () => {\n        console.log('Undo');\n    }\n\n    const redo = () => {\n        console.log('Redo');\n    }\n\n    const setSelectedTool = (toolName) => {\n        let newState = Object.assign({}, globalState);\n        newState.selectedTool = toolName;\n        setGlobalState(newState);\n    }\n\n    return (\n        <div id=\"toolbarContainer\">\n            <IconButton btnTitle='Pencil' imgSrc={pencilIcon} onClick_p={() => setSelectedTool('Pencil')}\n                size={40} selected={globalState.selectedTool === 'Pencil'} />\n\n            <IconButton btnTitle='Pen' imgSrc={penIcon} onClick_p={() => setSelectedTool('Pen')}\n                size={40} selected={globalState.selectedTool === 'Pen'} />\n\n            <IconButton btnTitle='Eraser' imgSrc={eraserIcon} onClick_p={() => setSelectedTool('Eraser')}\n                size={40} selected={globalState.selectedTool === 'Eraser'} />\n\n            <IconButton btnTitle='Dropper' imgSrc={dropperIcon} onClick_p={() => setSelectedTool('Dropper')}\n                size={40} selected={globalState.selectedTool === 'Dropper'} />\n\n            <hr />\n\n            <IconButton btnTitle='Undo' imgSrc={undoIcon} onClick_p={() => undo()}\n                size={40} selected={false} />\n\n            <IconButton btnTitle='Redo' imgSrc={redoIcon} onClick_p={() => redo()}\n                size={40} selected={false} />\n\n        </div>\n    );\n}\n\nexport default Toolbar;","export default __webpack_public_path__ + \"static/media/black.1fd5be43.png\";","export default __webpack_public_path__ + \"static/media/white.f637800e.png\";","export default __webpack_public_path__ + \"static/media/red.d9268b17.png\";","export default __webpack_public_path__ + \"static/media/lightred.b2e9f841.png\";","export default __webpack_public_path__ + \"static/media/orange.7ab39e4f.png\";","export default __webpack_public_path__ + \"static/media/yellow.259f7955.png\";","export default __webpack_public_path__ + \"static/media/green.71014684.png\";","export default __webpack_public_path__ + \"static/media/pink.2a087a8e.png\";","export default __webpack_public_path__ + \"static/media/purple.5c807439.png\";","export default __webpack_public_path__ + \"static/media/blue.d0223170.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport './ColorSelector.css'\nimport IconButton from './IconButton'\nimport blackIcon from '../icons/black.png'\nimport whiteIcon from '../icons/white.png'\nimport redIcon from '../icons/red.png'\nimport lightRedIcon from '../icons/lightred.png'\nimport orangeIcon from '../icons/orange.png'\nimport yellowIcon from '../icons/yellow.png'\nimport greenIcon from '../icons/green.png'\nimport pinkIcon from '../icons/pink.png'\nimport purpleIcon from '../icons/purple.png'\nimport blueIcon from '../icons/blue.png'\n\nconst ColorSelector = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const setSelectedColor = (colorValue) => {\n        let newState = Object.assign({}, globalState);\n        newState.selectedColor = colorValue;\n        setGlobalState(newState);\n    }\n\n    return (\n        <div id='colorSelectorContainer'>\n            <IconButton btnTitle='Black' imgSrc={blackIcon} onClick_p={() => { setSelectedColor('#000000') }}\n                size={32} selected={globalState.selectedColor === '#000000'} />\n\n            <IconButton btnTitle='White' imgSrc={whiteIcon} onClick_p={() => { setSelectedColor('#ffffff') }}\n                size={32} selected={globalState.selectedColor === '#ffffff'} />\n\n            <IconButton btnTitle='Red' imgSrc={redIcon} onClick_p={() => { setSelectedColor('#ff0000') }}\n                size={32} selected={globalState.selectedColor === '#ff0000'} />\n\n            <IconButton btnTitle='Light red' imgSrc={lightRedIcon} onClick_p={() => { setSelectedColor('#f85e43') }}\n                size={32} selected={globalState.selectedColor === '#f85e43'} />\n\n            <IconButton btnTitle='Orange' imgSrc={orangeIcon} onClick_p={() => { setSelectedColor('#f39127') }}\n                size={32} selected={globalState.selectedColor === '#f39127'} />\n\n            <IconButton btnTitle='Yellow' imgSrc={yellowIcon} onClick_p={() => { setSelectedColor('#f3c327') }}\n                size={32} selected={globalState.selectedColor === '#f3c327'} />\n\n            <IconButton btnTitle='Green' imgSrc={greenIcon} onClick_p={() => { setSelectedColor('#34a234') }}\n                size={32} selected={globalState.selectedColor === '#34a234'} />\n\n            <IconButton btnTitle='Pink' imgSrc={pinkIcon} onClick_p={() => { setSelectedColor('#f74579') }}\n                size={32} selected={globalState.selectedColor === '#f74579'} />\n\n            <IconButton btnTitle='Purple' imgSrc={purpleIcon} onClick_p={() => { setSelectedColor('#8d00cf') }}\n                size={32} selected={globalState.selectedColor === '#8d00cf'} />\n\n            <IconButton btnTitle='Blue' imgSrc={blueIcon} onClick_p={() => { setSelectedColor('#4376f8') }}\n                size={32} selected={globalState.selectedColor === '#4376f8'} />\n\n            <input type=\"color\" id=\"colorPicker\" onChange={(e) => { setSelectedColor(e.target.value) }} />\n        </div>\n    );\n}\n\nexport default ColorSelector;","import React from 'react'\nimport './TextAndRangeSelector.css'\n\n/*a number input field with a range input field next to it, both kept in sync and \nenforcing min and max values*/\nconst TextAndRangeSelector = ({min, max, unit, initValue, setValue}) => {\n\n    const textRef = React.useRef();\n    const rangeRef = React.useRef();\n\n    const validateInput = (input) => {\n        if (!input) return;\n        if (input < min)\n            input = min;\n        if (input > max)\n            input = max;\n        textRef.current.value = input;\n        rangeRef.current.value = input;\n\n        setValue(input);\n    }\n\n    return (\n        <div id='selectorContainer'>\n            <input type='number' id='selectorText' defaultValue={initValue} ref={textRef}\n                onChange={(e) => validateInput(e.target.value)} />\n            <p>  {unit}</p>\n            <input type='range' id='selectorRange' defaultValue={initValue} ref={rangeRef}\n                onChange={(e) => validateInput(e.target.value)} />\n        </div>\n    );\n}\n\nexport default TextAndRangeSelector;","/*These 3 sets of points are used to draw smoothed curves.*/\nlet oldX = 0, oldY = 0;\nlet midX = 0, midY = 0;\nlet newX = 0, newY = 0;\n\nlet isDrawing = false;\n\nexport let layers = [[]];\n\n/*This algorithm for drawingsmoothed curves is stolen from :\nhttps://stackoverflow.com/questions/7054272/how-to-draw-smooth-curve-through-n-points-using-javascript-html5-canvas*/\nconst calcSmoothPoints = (tension, numSegments) => {\n    let smoothedPoints = [];\n    let t1x, t2x, t1y, t2y;\n    let st;\n    let c1, c2, c3, c4;\n    let smoothedX, smoothedY;\n\n    for (let t = 0; t <= numSegments; t++) {\n        //calc tension vectors\n        t1x = (midX - oldX) * tension;\n        t2x = (newX - oldX) * tension;\n\n        t1y = (midY - oldY) * tension;\n        t2y = (newY - oldY) * tension;\n\n        // calc step\n        st = t / 16;\n\n        // calc cardinals\n        c1 = 2 * Math.pow(st, 3) - 3 * Math.pow(st, 2) + 1;\n        c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2);\n        c3 = Math.pow(st, 3) - 2 * Math.pow(st, 2) + st;\n        c4 = Math.pow(st, 3) - Math.pow(st, 2);\n\n        // calc x and y cords with common control vectors\n        smoothedX = c1 * oldX + c2 * midX + c3 * t1x + c4 * t2x;\n        smoothedY = c1 * oldY + c2 * midY + c3 * t1y + c4 * t2y;\n\n        //store points in array\n        smoothedPoints.push(smoothedX);\n        smoothedPoints.push(smoothedY);\n    }\n    return smoothedPoints;\n}\n\nexport let tools = {\n    Pencil: {\n        startPath: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            isDrawing = true;\n            oldX = midX = event.clientX - rect.left;\n            oldY = midY = event.clientY - rect.top;\n        },\n\n        draw: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            newX = event.clientX - rect.left;\n            newY = event.clientY - rect.top;\n            ctx.lineCap = \"round\";\n            ctx.lineJoin = \"round\";\n            if (isDrawing === true) {\n\n                /*calculate the points of the smoothed curve*/\n                let smoothedPoints = calcSmoothPoints(0.5, 16);\n\n                /*draw the curve*/\n                ctx.beginPath();\n                ctx.moveTo(smoothedPoints[0], smoothedPoints[1]);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i], smoothedPoints[i + 1]);\n\n                ctx.stroke();\n                ctx.closePath();\n\n                oldX = midX;\n                oldY = midY;\n                midX = newX;\n                midY = newY;\n            }\n        },\n\n        endPath: () => {\n            isDrawing = false;\n        }\n    },\n\n    Pen: {\n        startPath: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            isDrawing = true;\n            oldX = midX = event.clientX - rect.left;\n            oldY = midY = event.clientY - rect.top;\n        },\n\n        draw: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            newX = event.clientX - rect.left;\n            newY = event.clientY - rect.top;\n            let smoothedPoints = [];\n            ctx.lineCap = \"square\";\n            ctx.lineJoin = \"square\";\n            if (isDrawing === true) {\n\n                /*calculate the points of the smoothed curve*/\n                let smoothedPoints = calcSmoothPoints(0.5, 16);\n\n                /*draw the curve*/\n                ctx.beginPath();\n                ctx.moveTo(smoothedPoints[0] - 2, smoothedPoints[1] - 1);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i] - 2, smoothedPoints[i + 1] - 1);\n\n                ctx.moveTo(smoothedPoints[0], smoothedPoints[1]);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i] - 1, smoothedPoints[i + 1] - 1);\n\n                ctx.moveTo(smoothedPoints[0] + 1, smoothedPoints[1] + 1);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i], smoothedPoints[i + 1]);\n\n                ctx.moveTo(smoothedPoints[0] + 2, smoothedPoints[1] + 2);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i] + 2, smoothedPoints[i + 1] + 2);\n\n                ctx.stroke();\n                ctx.closePath();\n\n                oldX = midX;\n                oldY = midY;\n                midX = newX;\n                midY = newY;\n            }\n        },\n\n        endPath: () => {\n            isDrawing = false;\n        }\n    },\n\n    Eraser: {\n        startPath: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            isDrawing = true;\n            oldX = midX = event.clientX - rect.left;\n            oldY = midY = event.clientY - rect.top;\n        },\n\n        draw: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            newX = event.clientX - rect.left;\n            newY = event.clientY - rect.top;\n            ctx.lineCap = \"round\";\n            ctx.lineJoin = \"round\";\n            if (isDrawing === true) {\n                let tempStrokeStyle = ctx.strokeStyle;\n                ctx.strokeStyle = 'rgba(255,255,255,1)';\n                ctx.globalCompositeOperation = \"destination-out\";\n\n                /*calculate the points of the smoothed curve*/\n                let smoothedPoints = calcSmoothPoints(0.5, 16);\n\n                /*draw the curve*/\n                ctx.beginPath();\n                ctx.moveTo(smoothedPoints[0], smoothedPoints[1]);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i], smoothedPoints[i + 1]);\n\n                ctx.stroke();\n                ctx.closePath();\n\n                oldX = midX;\n                oldY = midY;\n                midX = newX;\n                midY = newY;\n                ctx.strokeStyle = tempStrokeStyle;\n                ctx.globalCompositeOperation = \"source-over\";\n            }\n        },\n\n        endPath: () => {\n            isDrawing = false;\n        }\n    },\n\n    Dropper: {\n        startPath: (event, newX, newY) => {\n            console.log('Dropper');\n        },\n\n        draw: (event, newX, newY) => {\n            console.log('Dropper');\n        },\n\n        endPath: () => {\n            console.log('Dropper');\n        }\n    }\n}","import React from 'react'\nimport './Layer.css'\nimport { tools } from '../drawData'\n\nconst Layer = ({ width, height, top, left, zIndex, currentTool, currentColor, currentSize }) => {\n\n    const canv = React.useRef();\n\n    React.useEffect(() => {\n        canv.current.getContext(\"2d\").scale(window.devicePixelRatio, window.devicePixelRatio);\n    }, []);\n\n    let canvs = canv ? canv.current : null;\n    let ctx = canvs ? canvs.getContext('2d') : null;\n\n    if (ctx) {\n        ctx.strokeStyle = currentColor;\n        ctx.lineWidth = currentSize;\n    }\n\n    return (\n        <canvas ref={canv}\n            width={width * window.devicePixelRatio}\n            height={height * window.devicePixelRatio}\n\n            onPointerDown={(event) => {\n                if(!canvs) return;\n                event.preventDefault();\n                tools[currentTool].startPath(event, canvs);\n            }}\n\n            onPointerMove={(event) => {\n                if(!canvs) return;\n                event.preventDefault();\n                tools[currentTool].draw(event, canvs);\n            }}\n\n            onPointerUp={(event) => {\n                if(!canvs) return;\n                event.preventDefault();\n                tools[currentTool].endPath();\n            }}\n\n            onPointerOut={(event) => {\n                if(!canvs) return;\n                event.preventDefault();\n                tools[currentTool].endPath();\n            }}\n\n            style={{\n                position: 'absolute',\n                width: width,\n                height: height,\n                top: top + window.scrollY,\n                left: left + window.scrollX,\n                zIndex: zIndex,\n                pointerEvents: (zIndex === 0) ? 'all' : 'none'\n            }} />\n    );\n\n}\n\nexport default Layer;","export default __webpack_public_path__ + \"static/media/hide.2a8a0743.png\";","export default __webpack_public_path__ + \"static/media/unhide.e6ff1808.png\";","import React from 'react'\nimport IconButton from './IconButton'\nimport './LayerMenuItem.css'\nimport hideIcon from '../icons/hide.png'\nimport unhideIcon from '../icons/unhide.png'\n\nconst LayerMenuItem = ({ name, selected, hidden, rename, select, hide }) => {\n\n    const [layerClass, setClass] = React.useState('layerMenuItemUnselected');\n\n    const renderClass = selected ? 'layerMenuItemSelected' : layerClass;\n    const title = hidden ? 'Unhide Layer' : 'Hide Layer';\n    const imSrc = hidden ? unhideIcon : hideIcon;\n\n    return (\n        <div className={renderClass} onClick={select}\n            onMouseOver={() => setClass('layerMenuItemHovered')}\n            onMouseOut={() => setClass('layerMenuItemUnselected')}>\n\n            <IconButton btnTitle={title} imgSrc={imSrc} size={28} selected={false}\n                onClick_p={(e) => { e.stopPropagation(); hide(); }} />\n\n            <span id='layerName' onDoubleClick={rename}>{name}</span>\n\n        </div>\n    );\n}\n\nexport default LayerMenuItem;","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/X.d73ecd37.png\";","export default __webpack_public_path__ + \"static/media/up.7d9ac618.png\";","export default __webpack_public_path__ + \"static/media/down.c8a3bbaa.png\";","export default __webpack_public_path__ + \"static/media/copy.01dda647.png\";","export default __webpack_public_path__ + \"static/media/paste.b7884835.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport { layers } from '../drawData'\nimport IconButton from './IconButton'\nimport TextAndRangeSelector from './TextAndRangeSelector'\nimport Layer from './Layer'\nimport LayerMenuItem from './LayerMenuItem'\nimport './LayerMenu.css'\nimport plusIcon from '../icons/plus.png'\nimport xIcon from '../icons/X.png'\nimport upIcon from '../icons/up.png'\nimport downIcon from '../icons/down.png'\nimport copyIcon from '../icons/copy.png'\nimport pasteIcon from '../icons/paste.png'\n\nconst LayerMenu = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const [layerMenuItems, setLayerMenuItems] = React.useState([{\n        id: 0,\n        name: 'Layer 0',\n        hidden: false\n    }]);\n\n    const setLayerOpacity = (value) => {\n\n    }\n\n    /*This function actually toggles the 'hidden' status of the layer*/\n    const hideLayer = (index) => {\n        let newLmi = JSON.parse(JSON.stringify(layerMenuItems));\n        newLmi[index].hidden = !newLmi[index].hidden;\n        setLayerMenuItems(newLmi);\n    }\n\n    const selectLayer = (index) => {\n        let newState = Object.assign({}, globalState);\n        newState.curLayer = index;\n        setGlobalState(newState);\n    }\n\n    const renameLayer = (index) => {\n        let newLmi = JSON.parse(JSON.stringify(layerMenuItems));\n        let newName = prompt(\"Rename layer:\", newLmi[index].name);\n        if (!(newName == \"\" || newName == null)) {\n            newLmi[index].name = newName;\n            setLayerMenuItems(newLmi);\n        }\n    }\n\n    const addLayer = () => {\n        let newLmi = JSON.parse(JSON.stringify(layerMenuItems));\n        let newState = Object.assign({}, globalState);\n\n        newLmi.unshift({\n            id: globalState.newLayerId,\n            name: 'Layer ' + globalState.newLayerId,\n            hidden: false\n        });\n        layers[globalState.curFrame].unshift(\n            <Layer key={globalState.newLayerId}/>\n        );\n\n        newState.newLayerId++;\n        newState.curLayer++;\n\n        setLayerMenuItems(newLmi);\n        setGlobalState(newState);\n    }\n\n    const cutLayer = () => {\n        if (layerMenuItems.length === 1) return;\n\n        let newLmi = JSON.parse(JSON.stringify(layerMenuItems));\n        let newState = Object.assign({}, globalState);\n\n        newLmi.splice(globalState.curLayer, 1);\n        if (newState.curLayer === newLmi.length) newState.curLayer--;\n\n        setLayerMenuItems(newLmi);\n        setGlobalState(newState);\n    }\n\n    const moveLayerUp = () => {\n        if (globalState.curLayer === 0) return;\n        let newLmi = JSON.parse(JSON.stringify(layerMenuItems));\n        let newState = Object.assign({}, globalState);\n\n        let temp = newLmi[globalState.curLayer];\n        newLmi[globalState.curLayer] = newLmi[globalState.curLayer - 1];\n        newLmi[globalState.curLayer - 1] = temp;\n        newState.curLayer--;\n\n        setLayerMenuItems(newLmi);\n        setGlobalState(newState);\n    }\n\n    const moveLayerDown = () => {\n        if (globalState.curLayer === layerMenuItems.length - 1) return;\n        let newLmi = JSON.parse(JSON.stringify(layerMenuItems));\n        let newState = Object.assign({}, globalState);\n\n        let temp = newLmi[globalState.curLayer];\n        newLmi[globalState.curLayer] = newLmi[globalState.curLayer + 1];\n        newLmi[globalState.curLayer + 1] = temp;\n        newState.curLayer++;\n\n        setLayerMenuItems(newLmi);\n        setGlobalState(newState);\n    }\n\n    return (\n        <div id='layerMenuContainer'>\n\n            <h2>Current Layer Opacity</h2>\n            <TextAndRangeSelector min={0} max={100} unit='%' initValue={100} setValue={setLayerOpacity} />\n\n            <IconButton btnTitle='Add layer at top' imgSrc={plusIcon} onClick_p={addLayer}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Cut current layer' imgSrc={xIcon} onClick_p={cutLayer}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Move current layer up' imgSrc={upIcon} onClick_p={moveLayerUp}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Move current layer down' imgSrc={downIcon} onClick_p={moveLayerDown}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Copy current layer' imgSrc={copyIcon} onClick_p={() => { }}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Paste layer at top' imgSrc={pasteIcon} onClick_p={() => { }}\n                size={28} selected={false} />\n\n            {layerMenuItems.map((item, index) =>\n                <LayerMenuItem key={item.id} name={item.name} selected={globalState.curLayer === index} hidden={item.hidden}\n                    rename={() => renameLayer(index)} select={() => selectLayer(index)} hide={() => hideLayer(index)} />\n            )}\n\n        </div>\n    );\n}\n\nexport default LayerMenu;","import React from 'react'\nimport FlipbookContext from '../context'\nimport ColorSelector from './ColorSelector'\nimport TextAndRangeSelector from './TextAndRangeSelector'\nimport LayerMenu from './LayerMenu'\nimport './Sidebar.css'\n\nconst Sidebar = () => {\n\n    const {globalState, setGlobalState} = React.useContext(FlipbookContext);\n\n    const setSelectedSize = (size) =>{\n        let newState = Object.assign({}, globalState);\n        newState.selectedSize = size;\n        setGlobalState(newState);\n    }\n\n    const setLastFrameOpacity = (value) => {\n\n    }\n\n    return (\n        <div id='sidebarContainer'>\n            <h1>Brush Color</h1>\n            <ColorSelector />\n            <h1>Brush Size</h1>\n            <TextAndRangeSelector min={1} max={100} unit='px' initValue={1} setValue={setSelectedSize}/>\n            <h1>Last Frame Opacity</h1>\n            <TextAndRangeSelector min={0} max={100} unit='%' initValue={20} setValue={setLastFrameOpacity}/>\n            <h1>Layers</h1>\n            <LayerMenu />\n        </div>\n    );\n}\n\nexport default Sidebar;","export default __webpack_public_path__ + \"static/media/left-arrow.80e904ad.png\";","export default __webpack_public_path__ + \"static/media/right-arrow.610490a6.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport IconButton from './IconButton'\nimport TextAndRangeSelector from './TextAndRangeSelector'\nimport './BottomBar.css'\nimport leftArrowIcon from '../icons/left-arrow.png'\nimport rightArrowIcon from '../icons/right-arrow.png'\nimport plusIcon from '../icons/plus.png'\nimport xIcon from '../icons/X.png'\n\nconst BottomBar = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    return (\n        <div id='bottombarContainer'>\n\n            <div id='topRow'>\n                <IconButton btnTitle='Add frame after current frame' imgSrc={plusIcon} onClick_p={() => { }}\n                    size={40} selected={false} />\n\n                <span id='chooseFrame'>\n                    <IconButton btnTitle='Last Frame' imgSrc={leftArrowIcon} onClick_p={() => { }}\n                        size={40} selected={false} />\n\n                    <span id='frameNum'>frame {globalState.curFrame + 1}/1</span>\n\n                    <IconButton btnTitle='Next Frame' imgSrc={rightArrowIcon} onClick_p={() => { }}\n                        size={40} selected={false} />\n                </span>\n\n                <IconButton btnTitle='Remove current frame' imgSrc={xIcon} onClick_p={() => { }}\n                    size={40} selected={false} />\n            </div>\n\n            <label>Frames per second:</label>\n            <input type='number' id='fps' name='fps' defaultValue={1} min={1} />\n\n            <button onClick={() => { }}>Create GIF</button>\n\n        </div>\n    );\n}\n\nexport default BottomBar;","import React from 'react';\nimport './CanvasForm.css'\n\nconst CanvasForm = ({ createCanvas_p }) => {\n\n    let inputWidth = 500;\n    let inputHeight = 500;\n\n    return (\n        <div id='canvasForm'>\n            <h1>Canvas Dimensions</h1>\n            <p>Width:  </p>\n            <input type='number' defaultValue={500} onChange={(e) => inputWidth = e.target.value} />\n            <p> px</p>\n            <br />\n            <p>Height:  </p>\n            <input type='number' defaultValue={500} onChange={(e) => inputHeight = e.target.value} />\n            <p> px</p>\n            <br />\n            <button onClick={() => createCanvas_p(inputWidth, inputHeight)}>Create Canvas</button>\n        </div>\n    );\n}\n\nexport default CanvasForm;","import React from 'react'\nimport './DrawingArea.css'\nimport FlipbookContext from '../context'\nimport { layers } from '../drawData'\nimport Layer from './Layer'\nimport _debounce from 'lodash.debounce'\n\nconst DrawingArea = ({ width, height }) => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const botCanvas = React.useRef();\n\n    const [pos, setPos] = React.useState({ top: 0, left: 0 });\n\n    React.useEffect(() => {\n        _debounce(() => {\n            let rect = botCanvas.current.getBoundingClientRect();\n            setPos({ top: rect.top, left: rect.left });\n        }, 50)();\n    });\n\n    React.useEffect(() => {\n        let rect = botCanvas.current.getBoundingClientRect();\n        layers[0].push(<Layer key={0} />);\n        setPos({ top: rect.top, left: rect.left });\n    }, []);\n\n    return (\n        <div id='canvasContainer'>\n            {layers[globalState.curFrame].map((item, index) => React.cloneElement(item, {\n                width: width,\n                height: height,\n                top: pos.top,\n                left: pos.left,\n                zIndex: (globalState.curLayer - index),\n                currentTool: globalState.selectedTool,\n                currentColor: globalState.selectedColor,\n                currentSize: globalState.selectedSize\n            }))}\n\n            <canvas id=\"bottomCanvas\" ref={botCanvas}\n                width={width * window.devicePixelRatio}\n                height={height * window.devicePixelRatio}\n\n                style={{\n                    width: width,\n                    height: height\n                }} />\n        </div>\n    );\n\n}\n\nexport default DrawingArea;","import React from 'react'\nimport './Flipbook.css'\nimport FlipbookContext from '../context'\nimport Toolbar from './Toolbar'\nimport Sidebar from './Sidebar'\nimport BottomBar from './BottomBar'\nimport CanvasForm from './CanvasForm'\nimport DrawingArea from './DrawingArea'\n\nconst Flipbook = () => {\n\n    const [globalState, setGlobalState] = React.useState({\n        canvasOpen: false,\n        canvasWidth: 0,\n        canvasHeight: 0,\n        selectedTool: 'Pencil',\n        selectedColor: '#000000',\n        selectedSize: 1,\n        curLayer: 0,\n        curFrame: 0,\n        newLayerId: 1\n    });\n\n    const createCanvas = (width, height) => {\n        let newState = Object.assign({}, globalState);\n        newState.canvasOpen = true;\n        newState.canvasWidth = width;\n        newState.canvasHeight = height;\n        setGlobalState(newState);\n    }\n\n    if (globalState.canvasOpen)\n        return (\n            <FlipbookContext.Provider value={{ globalState, setGlobalState }}>\n                <div id='topLevelContainer'>\n                    <Toolbar />\n                    <DrawingArea width={globalState.canvasWidth} height={globalState.canvasHeight} />\n                    <Sidebar />\n                    <BottomBar />\n                </div>\n            </FlipbookContext.Provider>\n        );\n    else\n        return (\n            <CanvasForm createCanvas_p={createCanvas} />\n        );\n}\n\nexport default Flipbook","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Flipbook from './components/Flipbook'\n\nconst App = () => <Flipbook />\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}