{"version":3,"sources":["context.js","components/IconButton.js","icons/pencil.png","icons/pen.png","icons/eraser.png","icons/dropper.png","components/Toolbar.js","drawData.js","icons/undo.png","icons/redo.png","components/UndoRedoBar.js","icons/black.png","icons/white.png","icons/red.png","icons/lightred.png","icons/orange.png","icons/yellow.png","icons/green.png","icons/pink.png","icons/purple.png","icons/blue.png","components/ColorSelector.js","components/TextAndRangeSelector.js","components/Layer.js","icons/hide.png","icons/unhide.png","components/LayerMenuItem.js","icons/plus.png","icons/X.png","icons/up.png","icons/down.png","icons/copy.png","icons/paste.png","components/LayerMenu.js","components/Sidebar.js","icons/left-arrow.png","icons/right-arrow.png","components/BottomBar.js","components/CanvasForm.js","components/DrawingArea.js","components/Flipbook.js","index.js"],"names":["FlipbookContext","React","createContext","IconButton","btnTitle","imgSrc","onClick_p","selected","size","useState","btnClass","setClass","iconClass","alt","width","height","title","src","className","onClick","onMouseOver","onMouseOut","onMouseDown","onMouseUp","Toolbar","useContext","globalState","setGlobalState","setSelectedTool","toolName","newState","Object","assign","selectedTool","id","pencilIcon","penIcon","eraserIcon","dropperIcon","oldX","oldY","midX","midY","newX","newY","isDrawing","layers","undoStack","redoStack","botCanvas","ref","calcSmoothPoints","tension","numSegments","t1x","t2x","t1y","t2y","st","c1","c2","c3","c4","smoothedX","smoothedY","smoothedPoints","t","Math","pow","push","tools","Pencil","startPath","event","canvas","ctx","getContext","rect","getBoundingClientRect","getImageData","length","clientX","left","clientY","top","draw","lineCap","lineJoin","beginPath","moveTo","i","lineTo","stroke","closePath","endPath","Pen","Eraser","tempStrokeStyle","strokeStyle","globalCompositeOperation","Dropper","x","y","imgData","window","devicePixelRatio","data","rgb","toString","ctrlPressed","UndoRedoBar","undo","canv","curFrame","curLayer","current","newCanvasImage","pop","putImageData","redo","keyPress","ctrlKey","key","preventDefault","keyUp","useEffect","document","addEventListener","undoIcon","redoIcon","ColorSelector","setSelectedColor","colorValue","selectedColor","blackIcon","whiteIcon","redIcon","lightRedIcon","orangeIcon","yellowIcon","greenIcon","pinkIcon","purpleIcon","blueIcon","type","onChange","e","target","value","TextAndRangeSelector","min","max","unit","initValue","setValue","textRef","useRef","rangeRef","validateInput","input","defaultValue","Layer","canvRef","zIndex","hidden","opacity","scale","canvs","lineWidth","selectedSize","onPointerDown","res","onPointerMove","onPointerUp","onPointerOut","style","position","scrollY","scrollX","pointerEvents","visibility","LayerMenuItem","name","rename","select","hide","layerClass","renderClass","imSrc","unhideIcon","hideIcon","console","log","stopPropagation","onDoubleClick","clipboard","LayerMenu","newLayerId","setNewLayerId","layerArray","component","createRef","plusIcon","unshift","xIcon","splice","upIcon","temp","downIcon","copyIcon","pasteIcon","map","index","newName","prompt","renameLayer","selectLayer","hideLayer","Sidebar","BottomBar","leftArrowIcon","rightArrowIcon","CanvasForm","createCanvas_p","inputWidth","inputHeight","DrawingArea","pos","setPos","_debounce","cloneElement","Flipbook","canvasOpen","canvasWidth","canvasHeight","Provider","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.da8c0936.chunk.js","sourcesContent":["import React from 'react'\n\nconst FlipbookContext = React.createContext();\n\nexport default FlipbookContext;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './IconButton.css'\n\nconst IconButton = ({btnTitle, imgSrc, onClick_p, selected, size}) => {\n\n    const [btnClass, setClass] = React.useState('iconUnselected');\n\n    const iconClass = selected ? 'iconSelected' : btnClass;\n\n    return(\n        <img alt={btnTitle}\n        width={size}\n        height={size}\n        title={btnTitle} \n        src={imgSrc} \n        className={iconClass}\n        onClick={onClick_p} \n        onMouseOver={() => setClass('iconHovered')}\n        onMouseOut={() => setClass('iconUnselected')} \n        onMouseDown={() => setClass('iconSelected')} \n        onMouseUp={() => setClass('iconHovered')}/>\n    );\n}\n\nexport default IconButton;","export default __webpack_public_path__ + \"static/media/pencil.588014e8.png\";","export default __webpack_public_path__ + \"static/media/pen.373e6d9c.png\";","export default __webpack_public_path__ + \"static/media/eraser.ce11724e.png\";","export default __webpack_public_path__ + \"static/media/dropper.f62bf4e2.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport IconButton from './IconButton'\nimport pencilIcon from '../icons/pencil.png'\nimport penIcon from '../icons/pen.png'\nimport eraserIcon from '../icons/eraser.png'\nimport dropperIcon from '../icons/dropper.png'\n\n//toolbar on the left side of the page\nconst Toolbar = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const setSelectedTool = (toolName) => {\n        let newState = Object.assign({}, globalState);\n        newState.selectedTool = toolName;\n        setGlobalState(newState);\n    }\n\n    return (\n        <div id=\"toolbarContainer\">\n            <IconButton btnTitle='Pencil' imgSrc={pencilIcon} onClick_p={() => setSelectedTool('Pencil')}\n                size={40} selected={globalState.selectedTool === 'Pencil'} />\n\n            <IconButton btnTitle='Pen' imgSrc={penIcon} onClick_p={() => setSelectedTool('Pen')}\n                size={40} selected={globalState.selectedTool === 'Pen'} />\n\n            <IconButton btnTitle='Eraser' imgSrc={eraserIcon} onClick_p={() => setSelectedTool('Eraser')}\n                size={40} selected={globalState.selectedTool === 'Eraser'} />\n\n            <IconButton btnTitle='Dropper' imgSrc={dropperIcon} onClick_p={() => setSelectedTool('Dropper')}\n                size={40} selected={globalState.selectedTool === 'Dropper'} />\n        </div>\n    );\n}\n\nexport default Toolbar;","/*These 3 sets of points are used to draw smoothed curves.*/\nlet oldX = 0, oldY = 0;\nlet midX = 0, midY = 0;\nlet newX = 0, newY = 0;\n\nlet isDrawing = false;\n\nexport let layers = [[]];\n\nexport let undoStack = [];\nexport let redoStack = [];\n\nexport let botCanvas = {\n    ref: null\n};\n\n/*This algorithm for drawing smoothed curves is stolen from :\nhttps://stackoverflow.com/questions/7054272/how-to-draw-smooth-curve-through-n-points-using-javascript-html5-canvas*/\nconst calcSmoothPoints = (tension, numSegments) => {\n    let smoothedPoints = [];\n    let t1x, t2x, t1y, t2y;\n    let st;\n    let c1, c2, c3, c4;\n    let smoothedX, smoothedY;\n\n    for (let t = 0; t <= numSegments; t++) {\n        //calc tension vectors\n        t1x = (midX - oldX) * tension;\n        t2x = (newX - oldX) * tension;\n\n        t1y = (midY - oldY) * tension;\n        t2y = (newY - oldY) * tension;\n\n        // calc step\n        st = t / 16;\n\n        // calc cardinals\n        c1 = 2 * Math.pow(st, 3) - 3 * Math.pow(st, 2) + 1;\n        c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2);\n        c3 = Math.pow(st, 3) - 2 * Math.pow(st, 2) + st;\n        c4 = Math.pow(st, 3) - Math.pow(st, 2);\n\n        // calc x and y cords with common control vectors\n        smoothedX = c1 * oldX + c2 * midX + c3 * t1x + c4 * t2x;\n        smoothedY = c1 * oldY + c2 * midY + c3 * t1y + c4 * t2y;\n\n        //store points in array\n        smoothedPoints.push(smoothedX);\n        smoothedPoints.push(smoothedY);\n    }\n    return smoothedPoints;\n}\n\nexport let tools = {\n    Pencil: {\n        startPath: (event, canvas) => {\n            let ctx = canvas.getContext('2d');\n            let rect = canvas.getBoundingClientRect();\n            undoStack.push(ctx.getImageData(0, 0, canvas.width, canvas.height));\n            redoStack.length = 0;\n            isDrawing = true;\n            oldX = midX = event.clientX - rect.left;\n            oldY = midY = event.clientY - rect.top;\n        },\n\n        draw: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            newX = event.clientX - rect.left;\n            newY = event.clientY - rect.top;\n            ctx.lineCap = \"round\";\n            ctx.lineJoin = \"round\";\n            if (isDrawing === true) {\n\n                /*calculate the points of the smoothed curve*/\n                let smoothedPoints = calcSmoothPoints(0.5, 16);\n\n                /*draw the curve*/\n                ctx.beginPath();\n                ctx.moveTo(smoothedPoints[0], smoothedPoints[1]);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i], smoothedPoints[i + 1]);\n\n                ctx.stroke();\n                ctx.closePath();\n\n                oldX = midX;\n                oldY = midY;\n                midX = newX;\n                midY = newY;\n            }\n        },\n\n        endPath: () => {\n            isDrawing = false;\n        }\n    },\n\n    Pen: {\n        startPath: (event, canvas) => {\n            let ctx = canvas.getContext('2d');\n            let rect = canvas.getBoundingClientRect();\n            undoStack.push(ctx.getImageData(0, 0, canvas.width, canvas.height));\n            redoStack.length = 0;\n            isDrawing = true;\n            oldX = midX = event.clientX - rect.left;\n            oldY = midY = event.clientY - rect.top;\n        },\n\n        draw: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            newX = event.clientX - rect.left;\n            newY = event.clientY - rect.top;\n            let smoothedPoints = [];\n            ctx.lineCap = \"square\";\n            ctx.lineJoin = \"square\";\n            if (isDrawing === true) {\n\n                /*calculate the points of the smoothed curve*/\n                let smoothedPoints = calcSmoothPoints(0.5, 16);\n\n                /*draw the curve*/\n                ctx.beginPath();\n                ctx.moveTo(smoothedPoints[0] - 2, smoothedPoints[1] - 1);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i] - 2, smoothedPoints[i + 1] - 1);\n\n                ctx.moveTo(smoothedPoints[0], smoothedPoints[1]);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i] - 1, smoothedPoints[i + 1] - 1);\n\n                ctx.moveTo(smoothedPoints[0] + 1, smoothedPoints[1] + 1);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i], smoothedPoints[i + 1]);\n\n                ctx.moveTo(smoothedPoints[0] + 2, smoothedPoints[1] + 2);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i] + 2, smoothedPoints[i + 1] + 2);\n\n                ctx.stroke();\n                ctx.closePath();\n\n                oldX = midX;\n                oldY = midY;\n                midX = newX;\n                midY = newY;\n            }\n        },\n\n        endPath: () => {\n            isDrawing = false;\n        }\n    },\n\n    Eraser: {\n        startPath: (event, canvas) => {\n            let ctx = canvas.getContext('2d');\n            let rect = canvas.getBoundingClientRect();\n            undoStack.push(ctx.getImageData(0, 0, canvas.width, canvas.height));\n            redoStack.length = 0;\n            isDrawing = true;\n            oldX = midX = event.clientX - rect.left;\n            oldY = midY = event.clientY - rect.top;\n        },\n\n        draw: (event, canvas) => {\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            newX = event.clientX - rect.left;\n            newY = event.clientY - rect.top;\n            ctx.lineCap = \"round\";\n            ctx.lineJoin = \"round\";\n            if (isDrawing === true) {\n                let tempStrokeStyle = ctx.strokeStyle;\n                ctx.strokeStyle = 'rgba(255,255,255,1)';\n                ctx.globalCompositeOperation = \"destination-out\";\n\n                /*calculate the points of the smoothed curve*/\n                let smoothedPoints = calcSmoothPoints(0.5, 16);\n\n                /*draw the curve*/\n                ctx.beginPath();\n                ctx.moveTo(smoothedPoints[0], smoothedPoints[1]);\n                for (let i = 2; i < smoothedPoints.length - 1; i += 2)\n                    ctx.lineTo(smoothedPoints[i], smoothedPoints[i + 1]);\n\n                ctx.stroke();\n                ctx.closePath();\n\n                oldX = midX;\n                oldY = midY;\n                midX = newX;\n                midY = newY;\n                ctx.strokeStyle = tempStrokeStyle;\n                ctx.globalCompositeOperation = \"source-over\";\n            }\n        },\n\n        endPath: () => {\n            isDrawing = false;\n        }\n    },\n\n    Dropper: {\n        startPath: function (event, canvas) { //get color at x,y coordinate on main canvas\n            let rect = canvas.getBoundingClientRect();\n            let ctx = canvas.getContext('2d');\n            let x = event.clientX - rect.left;\n            let y = event.clientY - rect.top;\n            let imgData = ctx.getImageData(x * window.devicePixelRatio, y * window.devicePixelRatio, 1, 1).data;\n            let rgb = [];\n            for (let i = 0; i < 3; i++) {\n                rgb[i] = imgData[i].toString(16);\n                if (rgb[i].length === 1) rgb[i] = '0' + rgb[i];\n            }\n            let newColor = '#' + rgb[0] + rgb[1] + rgb[2];\n            return newColor;\n        },\n\n        draw: function (event) {\n\n        },\n\n        endPath: function () {\n\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/undo.eb7626ba.png\";","export default __webpack_public_path__ + \"static/media/redo.b5eb995b.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport { layers, undoStack, redoStack } from '../drawData'\nimport IconButton from './IconButton'\nimport undoIcon from '../icons/undo.png'\nimport redoIcon from '../icons/redo.png'\n\nlet ctrlPressed = false;\n\nconst UndoRedoBar = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const undo = () => {\n        let canv = layers[globalState.curFrame][globalState.curLayer].ref.current;\n        let ctx = canv.getContext('2d');\n        if (undoStack.length != 0) {\n            redoStack.push(ctx.getImageData(0, 0, canv.width, canv.height));\n            let newCanvasImage = undoStack.pop();\n            ctx.putImageData(newCanvasImage, 0, 0);\n        }\n    }\n\n    const redo = () => {\n        let canv = layers[globalState.curFrame][globalState.curLayer].ref.current;\n        let ctx = canv.getContext('2d');\n        if (redoStack.length != 0) {\n            undoStack.push(ctx.getImageData(0, 0, canv.width, canv.height));\n            let newCanvasImage = redoStack.pop();\n            ctx.putImageData(newCanvasImage, 0, 0);\n        }\n    }\n\n    const keyPress = (event) => {\n        if (event.ctrlKey === true) ctrlPressed = true;\n        if (event.key === 'z' && ctrlPressed == true) {\n            event.preventDefault();\n            undo();\n        }\n        if (event.key === 'y' && ctrlPressed == true) {\n            event.preventDefault();\n            redo();\n        }\n    }\n\n    const keyUp = (event) => {\n        if (event.key === 'Control') \n            ctrlPressed = false;\n    }\n\n    React.useEffect(() => {\n        document.addEventListener(\"keydown\", keyPress);\n        document.addEventListener(\"keyup\", keyUp);\n    }, []);\n\n    return (\n        <div>\n            <IconButton btnTitle='Undo (ctrl + z)' imgSrc={undoIcon} onClick_p={() => undo()}\n                size={40} selected={false} />\n\n            <IconButton btnTitle='Redo (ctrl + y)' imgSrc={redoIcon} onClick_p={() => redo()}\n                size={40} selected={false} />\n        </div>\n    );\n}\n\nexport default UndoRedoBar;","export default __webpack_public_path__ + \"static/media/black.1fd5be43.png\";","export default __webpack_public_path__ + \"static/media/white.f637800e.png\";","export default __webpack_public_path__ + \"static/media/red.d9268b17.png\";","export default __webpack_public_path__ + \"static/media/lightred.b2e9f841.png\";","export default __webpack_public_path__ + \"static/media/orange.7ab39e4f.png\";","export default __webpack_public_path__ + \"static/media/yellow.259f7955.png\";","export default __webpack_public_path__ + \"static/media/green.71014684.png\";","export default __webpack_public_path__ + \"static/media/pink.2a087a8e.png\";","export default __webpack_public_path__ + \"static/media/purple.5c807439.png\";","export default __webpack_public_path__ + \"static/media/blue.d0223170.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport './ColorSelector.css'\nimport IconButton from './IconButton'\nimport blackIcon from '../icons/black.png'\nimport whiteIcon from '../icons/white.png'\nimport redIcon from '../icons/red.png'\nimport lightRedIcon from '../icons/lightred.png'\nimport orangeIcon from '../icons/orange.png'\nimport yellowIcon from '../icons/yellow.png'\nimport greenIcon from '../icons/green.png'\nimport pinkIcon from '../icons/pink.png'\nimport purpleIcon from '../icons/purple.png'\nimport blueIcon from '../icons/blue.png'\n\nconst ColorSelector = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const setSelectedColor = (colorValue) => {\n        let newState = Object.assign({}, globalState);\n        newState.selectedColor = colorValue;\n        setGlobalState(newState);\n    }\n\n    return (\n        <div id='colorSelectorContainer'>\n            <IconButton btnTitle='Black' imgSrc={blackIcon} onClick_p={() => { setSelectedColor('#000000') }}\n                size={32} selected={globalState.selectedColor === '#000000'} />\n\n            <IconButton btnTitle='White' imgSrc={whiteIcon} onClick_p={() => { setSelectedColor('#ffffff') }}\n                size={32} selected={globalState.selectedColor === '#ffffff'} />\n\n            <IconButton btnTitle='Red' imgSrc={redIcon} onClick_p={() => { setSelectedColor('#ff0000') }}\n                size={32} selected={globalState.selectedColor === '#ff0000'} />\n\n            <IconButton btnTitle='Light red' imgSrc={lightRedIcon} onClick_p={() => { setSelectedColor('#f85e43') }}\n                size={32} selected={globalState.selectedColor === '#f85e43'} />\n\n            <IconButton btnTitle='Orange' imgSrc={orangeIcon} onClick_p={() => { setSelectedColor('#f39127') }}\n                size={32} selected={globalState.selectedColor === '#f39127'} />\n\n            <IconButton btnTitle='Yellow' imgSrc={yellowIcon} onClick_p={() => { setSelectedColor('#f3c327') }}\n                size={32} selected={globalState.selectedColor === '#f3c327'} />\n\n            <IconButton btnTitle='Green' imgSrc={greenIcon} onClick_p={() => { setSelectedColor('#34a234') }}\n                size={32} selected={globalState.selectedColor === '#34a234'} />\n\n            <IconButton btnTitle='Pink' imgSrc={pinkIcon} onClick_p={() => { setSelectedColor('#f74579') }}\n                size={32} selected={globalState.selectedColor === '#f74579'} />\n\n            <IconButton btnTitle='Purple' imgSrc={purpleIcon} onClick_p={() => { setSelectedColor('#8d00cf') }}\n                size={32} selected={globalState.selectedColor === '#8d00cf'} />\n\n            <IconButton btnTitle='Blue' imgSrc={blueIcon} onClick_p={() => { setSelectedColor('#4376f8') }}\n                size={32} selected={globalState.selectedColor === '#4376f8'} />\n\n            <input type=\"color\" id=\"colorPicker\" onChange={(e) => { setSelectedColor(e.target.value) }} />\n        </div>\n    );\n}\n\nexport default ColorSelector;","import React from 'react'\nimport './TextAndRangeSelector.css'\n\n/*a number input field with a range input field next to it, both kept in sync and \nenforcing min and max values*/\nconst TextAndRangeSelector = ({min, max, unit, initValue, setValue}) => {\n\n    const textRef = React.useRef();\n    const rangeRef = React.useRef();\n\n    const validateInput = (input) => {\n        if (!input) return;\n        if (input < min)\n            input = min;\n        if (input > max)\n            input = max;\n        textRef.current.value = input;\n        rangeRef.current.value = input;\n\n        setValue(input);\n    }\n\n    return (\n        <div id='selectorContainer'>\n            <input type='number' id='selectorText' defaultValue={initValue} ref={textRef}\n                onChange={(e) => validateInput(e.target.value)} />\n            <p>  {unit}</p>\n            <input type='range' id='selectorRange' defaultValue={initValue} ref={rangeRef}\n                onChange={(e) => validateInput(e.target.value)} />\n        </div>\n    );\n}\n\nexport default TextAndRangeSelector;","import React from 'react'\nimport FlipbookContext from '../context'\nimport { tools } from '../drawData'\n\nconst Layer = ({ canvRef, width, height, top, left, zIndex, hidden, opacity }) => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    React.useEffect(() => {\n        canvRef.current.getContext(\"2d\").scale(window.devicePixelRatio, window.devicePixelRatio);\n    }, []);\n\n    let canvs = canvRef ? canvRef.current : null;\n    let ctx = canvs ? canvs.getContext('2d') : null;\n\n    if (ctx) {\n        ctx.strokeStyle = globalState.selectedColor;\n        ctx.lineWidth = globalState.selectedSize;\n    }\n\n    return (\n        <canvas ref={canvRef}\n            width={width * window.devicePixelRatio}\n            height={height * window.devicePixelRatio}\n\n            onPointerDown={(event) => {\n                if (!canvs) return;\n                event.preventDefault();\n                let res = tools[globalState.selectedTool].startPath(event, canvs);\n                if(globalState.selectedTool === 'Dropper'){\n                    let newState = Object.assign({}, globalState);\n                    newState.selectedColor = res;\n                    setGlobalState(newState);\n                }\n            }}\n\n            onPointerMove={(event) => {\n                if (!canvs) return;\n                event.preventDefault();\n                tools[globalState.selectedTool].draw(event, canvs);\n            }}\n\n            onPointerUp={(event) => {\n                if (!canvs) return;\n                event.preventDefault();\n                tools[globalState.selectedTool].endPath();\n            }}\n\n            onPointerOut={(event) => {\n                if (!canvs) return;\n                event.preventDefault();\n                tools[globalState.selectedTool].endPath();\n            }}\n\n            style={{\n                position: 'absolute',\n                width: width,\n                height: height,\n                top: top + window.scrollY,\n                left: left + window.scrollX,\n                zIndex: zIndex,\n                pointerEvents: (zIndex === 0) ? 'all' : 'none',\n                visibility: hidden ? 'hidden' : 'visible',\n                opacity: opacity / 100\n            }} />);\n}\n\nexport default Layer;","export default __webpack_public_path__ + \"static/media/hide.2a8a0743.png\";","export default __webpack_public_path__ + \"static/media/unhide.e6ff1808.png\";","import React from 'react'\nimport IconButton from './IconButton'\nimport './LayerMenuItem.css'\nimport hideIcon from '../icons/hide.png'\nimport unhideIcon from '../icons/unhide.png'\n\nconst LayerMenuItem = ({ name, selected, hidden, rename, select, hide }) => {\n\n    const [layerClass, setClass] = React.useState('layerMenuItemUnselected');\n\n    const renderClass = selected ? 'layerMenuItemSelected' : layerClass;\n    const title = hidden ? 'Unhide Layer' : 'Hide Layer';\n    const imSrc = hidden ? unhideIcon : hideIcon;\n\n    console.log(name);\n\n    return (\n        <div className={renderClass} onClick={select}\n            onMouseOver={() => setClass('layerMenuItemHovered')}\n            onMouseOut={() => setClass('layerMenuItemUnselected')}>\n\n            <IconButton btnTitle={title} imgSrc={imSrc} size={28} selected={false}\n                onClick_p={(e) => { e.stopPropagation(); hide(); }} />\n\n            <span id='layerName' onDoubleClick={rename}>{name}</span>\n\n        </div>\n    );\n}\n\nexport default LayerMenuItem;","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/X.d73ecd37.png\";","export default __webpack_public_path__ + \"static/media/up.7d9ac618.png\";","export default __webpack_public_path__ + \"static/media/down.c8a3bbaa.png\";","export default __webpack_public_path__ + \"static/media/copy.01dda647.png\";","export default __webpack_public_path__ + \"static/media/paste.b7884835.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport { layers, undoStack, redoStack } from '../drawData'\nimport _cloneDeep from 'lodash/cloneDeep';\nimport IconButton from './IconButton'\nimport TextAndRangeSelector from './TextAndRangeSelector'\nimport Layer from './Layer'\nimport LayerMenuItem from './LayerMenuItem'\nimport './LayerMenu.css'\nimport plusIcon from '../icons/plus.png'\nimport xIcon from '../icons/X.png'\nimport upIcon from '../icons/up.png'\nimport downIcon from '../icons/down.png'\nimport copyIcon from '../icons/copy.png'\nimport pasteIcon from '../icons/paste.png'\n\nlet clipboard = 'empty';\n\nconst LayerMenu = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    const [newLayerId, setNewLayerId] = React.useState(0);\n\n    const layerArray = layers[globalState.curFrame];\n\n    React.useEffect(() => {\n        layers[0].push({\n            component: <Layer key={newLayerId} />,\n            ref: React.createRef(),\n            hidden: false,\n            name: 'Layer 0',\n            opacity: 100\n        });\n\n        setNewLayerId(newLayerId + 1);\n    }, []);\n\n    /*This function actually toggles the 'hidden' status of the layer*/\n    const hideLayer = (index) => {\n        layerArray[index].hidden = !layerArray[index].hidden;\n        setNewLayerId(newLayerId + 1);\n    }\n\n    const selectLayer = (index) => {\n        let newState = Object.assign({}, globalState);\n        newState.curLayer = index;\n        setGlobalState(newState);\n\n        undoStack.length = 0;\n        redoStack.length = 0;\n    }\n\n    const renameLayer = (index) => {\n        let newName = prompt(\"Rename layer:\", layerArray[index].name);\n        if (!(newName == \"\" || newName == null)) {\n            layerArray[index].name = newName;\n        }\n        setNewLayerId(newLayerId + 1);\n    }\n\n    const addLayer = () => {\n        let newState = Object.assign({}, globalState);\n\n        layerArray.unshift({\n            component: <Layer key={newLayerId} />,\n            ref: React.createRef(),\n            hidden: false,\n            name: 'New Layer',\n            opacity: 100\n        });\n\n        newState.curLayer++;\n        setGlobalState(newState);\n        setNewLayerId(newLayerId + 1);\n    }\n\n    const cutLayer = () => {\n        if (layerArray.length === 1) return;\n\n        let newState = Object.assign({}, globalState);\n\n        layerArray.splice(globalState.curLayer, 1);\n        if (globalState.curLayer === layerArray.length)\n            newState.curLayer--;\n\n        setGlobalState(newState);\n        setNewLayerId(newLayerId + 1);\n    }\n\n    const moveLayerUp = () => {\n        if (globalState.curLayer === 0) return;\n        let newState = Object.assign({}, globalState);\n\n        let temp = layerArray[globalState.curLayer];\n        layerArray[globalState.curLayer] = layerArray[globalState.curLayer - 1];\n        layerArray[globalState.curLayer - 1] = temp;\n        newState.curLayer--;\n\n        setGlobalState(newState);\n    }\n\n    const moveLayerDown = () => {\n        if (globalState.curLayer === layerArray.length - 1) return;\n        let newState = Object.assign({}, globalState);\n\n        let temp = layerArray[globalState.curLayer];\n        layerArray[globalState.curLayer] = layerArray[globalState.curLayer + 1];\n        layerArray[globalState.curLayer + 1] = temp;\n        newState.curLayer++;\n\n        setGlobalState(newState);\n    }\n\n    const setLayerOpacity = (value) => {\n        layerArray[globalState.curLayer].opacity = value;\n    }\n\n    const copyLayer = () => {\n        let canv = layerArray[globalState.curLayer].ref.current;\n        let ctx = canv.getContext('2d');\n        clipboard = ctx.getImageData(0, 0, canv.width, canv.height);\n    }\n\n    const pasteLayer = () => {\n        let canv = layerArray[globalState.curLayer].ref.current;\n        let ctx = canv.getContext('2d');\n        undoStack.push(ctx.getImageData(0, 0, canv.width, canv.height));\n        redoStack.length = 0;\n        ctx.putImageData(clipboard, 0, 0);\n    }\n\n    return (\n        <div id='layerMenuContainer'>\n\n            <h2>Current Layer Opacity</h2>\n            <TextAndRangeSelector min={0} max={100} unit='%' initValue={100} setValue={setLayerOpacity} />\n\n            <IconButton btnTitle='Add layer at top' imgSrc={plusIcon} onClick_p={addLayer}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Cut current layer' imgSrc={xIcon} onClick_p={cutLayer}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Move current layer up' imgSrc={upIcon} onClick_p={moveLayerUp}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Move current layer down' imgSrc={downIcon} onClick_p={moveLayerDown}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Copy current layer' imgSrc={copyIcon} onClick_p={copyLayer}\n                size={28} selected={false} />\n\n            <IconButton btnTitle='Paste layer' imgSrc={pasteIcon} onClick_p={pasteLayer}\n                size={28} selected={false} />\n\n            {layers[globalState.curFrame].map(({ component, ref, hidden, name }, index) =>\n                <LayerMenuItem\n                    key={component.key}\n                    name={name}\n                    selected={globalState.curLayer === index}\n                    hidden={hidden}\n                    rename={() => renameLayer(index)} select={() => selectLayer(index)}\n                    hide={() => hideLayer(index)} />\n            )}\n\n        </div>\n    );\n}\n\nexport default LayerMenu;","import React from 'react'\nimport FlipbookContext from '../context'\nimport ColorSelector from './ColorSelector'\nimport TextAndRangeSelector from './TextAndRangeSelector'\nimport LayerMenu from './LayerMenu'\nimport './Sidebar.css'\n\nconst Sidebar = () => {\n\n    const {globalState, setGlobalState} = React.useContext(FlipbookContext);\n\n    const setSelectedSize = (size) =>{\n        let newState = Object.assign({}, globalState);\n        newState.selectedSize = size;\n        setGlobalState(newState);\n    }\n\n    const setLastFrameOpacity = (value) => {\n\n    }\n\n    return (\n        <div id='sidebarContainer'>\n            <h1>Brush Color</h1>\n            <ColorSelector />\n            <h1>Brush Size</h1>\n            <TextAndRangeSelector min={1} max={100} unit='px' initValue={1} setValue={setSelectedSize}/>\n            <h1>Last Frame Opacity</h1>\n            <TextAndRangeSelector min={0} max={100} unit='%' initValue={20} setValue={setLastFrameOpacity}/>\n            <h1>Layers</h1>\n            <LayerMenu />\n        </div>\n    );\n}\n\nexport default Sidebar;","export default __webpack_public_path__ + \"static/media/left-arrow.80e904ad.png\";","export default __webpack_public_path__ + \"static/media/right-arrow.610490a6.png\";","import React from 'react'\nimport FlipbookContext from '../context'\nimport IconButton from './IconButton'\nimport TextAndRangeSelector from './TextAndRangeSelector'\nimport './BottomBar.css'\nimport leftArrowIcon from '../icons/left-arrow.png'\nimport rightArrowIcon from '../icons/right-arrow.png'\nimport plusIcon from '../icons/plus.png'\nimport xIcon from '../icons/X.png'\n\nconst BottomBar = () => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    return (\n        <div id='bottombarContainer'>\n\n            <div id='topRow'>\n                <IconButton btnTitle='Add frame after current frame' imgSrc={plusIcon} onClick_p={() => { }}\n                    size={40} selected={false} />\n\n                <span id='chooseFrame'>\n                    <IconButton btnTitle='Last Frame' imgSrc={leftArrowIcon} onClick_p={() => { }}\n                        size={40} selected={false} />\n\n                    <span id='frameNum'>frame {globalState.curFrame + 1}/1</span>\n\n                    <IconButton btnTitle='Next Frame' imgSrc={rightArrowIcon} onClick_p={() => { }}\n                        size={40} selected={false} />\n                </span>\n\n                <IconButton btnTitle='Remove current frame' imgSrc={xIcon} onClick_p={() => { }}\n                    size={40} selected={false} />\n            </div>\n\n            <label>Frames per second:</label>\n            <input type='number' id='fps' name='fps' defaultValue={1} min={1} />\n\n            <button onClick={() => { }}>Create GIF</button>\n\n        </div>\n    );\n}\n\nexport default BottomBar;","import React from 'react';\nimport './CanvasForm.css'\n\nconst CanvasForm = ({ createCanvas_p }) => {\n\n    let inputWidth = 500;\n    let inputHeight = 500;\n\n    return (\n        <div id='canvasForm'>\n            <h1>Canvas Dimensions</h1>\n            <p>Width:  </p>\n            <input type='number' defaultValue={500} onChange={(e) => inputWidth = e.target.value} />\n            <p> px</p>\n            <br />\n            <p>Height:  </p>\n            <input type='number' defaultValue={500} onChange={(e) => inputHeight = e.target.value} />\n            <p> px</p>\n            <br />\n            <button onClick={() => createCanvas_p(inputWidth, inputHeight)}>Create Canvas</button>\n        </div>\n    );\n}\n\nexport default CanvasForm;","import React from 'react'\nimport './DrawingArea.css'\nimport FlipbookContext from '../context'\nimport { layers, botCanvas } from '../drawData'\nimport Layer from './Layer'\nimport _debounce from 'lodash.debounce'\n\nconst DrawingArea = ({ width, height }) => {\n\n    const { globalState, setGlobalState } = React.useContext(FlipbookContext);\n\n    botCanvas.ref = React.useRef();\n\n    const [pos, setPos] = React.useState({ top: 0, left: 0 });\n\n    React.useEffect(() => {\n        _debounce(() => {\n            let rect = botCanvas.ref.current.getBoundingClientRect();\n            setPos({ top: rect.top, left: rect.left });\n        }, 50)();\n    });\n\n    return (\n        <div id='canvasContainer'>\n            {layers[globalState.curFrame].map(({component, ref, hidden, name, opacity}, index) => React.cloneElement(component, {\n                canvRef: ref,\n                width: width,\n                height: height,\n                top: pos.top,\n                left: pos.left,\n                zIndex: (globalState.curLayer - index),\n                hidden: hidden,\n                opacity: opacity\n            }))}\n\n            <canvas id=\"bottomCanvas\" ref={botCanvas.ref}\n                width={width * window.devicePixelRatio}\n                height={height * window.devicePixelRatio}\n\n                style={{\n                    width: width,\n                    height: height\n                }} />\n        </div>\n    );\n\n}\n\nexport default DrawingArea;","import React from 'react'\nimport './Flipbook.css'\nimport FlipbookContext from '../context'\nimport Toolbar from './Toolbar'\nimport UndoRedoBar from './UndoRedoBar.js'\nimport Sidebar from './Sidebar'\nimport BottomBar from './BottomBar'\nimport CanvasForm from './CanvasForm'\nimport DrawingArea from './DrawingArea'\n\nconst Flipbook = () => {\n\n    const [globalState, setGlobalState] = React.useState({\n        canvasOpen: false,\n        canvasWidth: 0,\n        canvasHeight: 0,\n        selectedTool: 'Pencil',\n        selectedColor: '#000000',\n        selectedSize: 1,\n        curLayer: 0,\n        curFrame: 0,\n    });\n\n    const createCanvas = (width, height) => {\n        let newState = Object.assign({}, globalState);\n        newState.canvasOpen = true;\n        newState.canvasWidth = width;\n        newState.canvasHeight = height;\n        setGlobalState(newState);\n    }\n\n    if (globalState.canvasOpen)\n        return (\n            <FlipbookContext.Provider value={{ globalState, setGlobalState }}>\n                <div id='topLevelContainer'>\n                    <div id='leftBar'>\n                        <Toolbar />\n                        <hr />\n                        <UndoRedoBar />\n                    </div>\n                    <DrawingArea width={globalState.canvasWidth} height={globalState.canvasHeight} />\n                    <Sidebar />\n                    <BottomBar />\n                </div>\n            </FlipbookContext.Provider>\n        );\n    else\n        return (\n            <CanvasForm createCanvas_p={createCanvas} />\n        );\n}\n\nexport default Flipbook","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Flipbook from './components/Flipbook'\n\nconst App = () => <Flipbook />\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}